"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@near-js+providers@1.0.1";
exports.ids = ["vendor-chunks/@near-js+providers@1.0.1"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/exponential-backoff.cjs":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/exponential-backoff.cjs ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.exponentialBackoff = void 0;\nasync function exponentialBackoff(startWaitTime, retryNumber, waitBackoff, getResult) {\n    // TODO: jitter?\n    let waitTime = startWaitTime;\n    for (let i = 0; i < retryNumber; i++) {\n        const result = await getResult();\n        if (result) {\n            return result;\n        }\n        await sleep(waitTime);\n        waitTime *= waitBackoff;\n    }\n    return null;\n}\nexports.exponentialBackoff = exponentialBackoff;\n// Sleep given number of millis.\nfunction sleep(millis) {\n    return new Promise(resolve => setTimeout(resolve, millis));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG5lYXItanMrcHJvdmlkZXJzQDEuMC4xL25vZGVfbW9kdWxlcy9AbmVhci1qcy9wcm92aWRlcnMvbGliL2NvbW1vbmpzL2V4cG9uZW50aWFsLWJhY2tvZmYuY2pzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2thdGhvbi1uZWFyLXJlZGFjdGVkLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BuZWFyLWpzK3Byb3ZpZGVyc0AxLjAuMS9ub2RlX21vZHVsZXMvQG5lYXItanMvcHJvdmlkZXJzL2xpYi9jb21tb25qcy9leHBvbmVudGlhbC1iYWNrb2ZmLmNqcz8wMThhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5leHBvbmVudGlhbEJhY2tvZmYgPSB2b2lkIDA7XG5hc3luYyBmdW5jdGlvbiBleHBvbmVudGlhbEJhY2tvZmYoc3RhcnRXYWl0VGltZSwgcmV0cnlOdW1iZXIsIHdhaXRCYWNrb2ZmLCBnZXRSZXN1bHQpIHtcbiAgICAvLyBUT0RPOiBqaXR0ZXI/XG4gICAgbGV0IHdhaXRUaW1lID0gc3RhcnRXYWl0VGltZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJldHJ5TnVtYmVyOyBpKyspIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0UmVzdWx0KCk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgc2xlZXAod2FpdFRpbWUpO1xuICAgICAgICB3YWl0VGltZSAqPSB3YWl0QmFja29mZjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnRzLmV4cG9uZW50aWFsQmFja29mZiA9IGV4cG9uZW50aWFsQmFja29mZjtcbi8vIFNsZWVwIGdpdmVuIG51bWJlciBvZiBtaWxsaXMuXG5mdW5jdGlvbiBzbGVlcChtaWxsaXMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1pbGxpcykpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/exponential-backoff.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/failover-rpc-provider.cjs":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/failover-rpc-provider.cjs ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FailoverRpcProvider = void 0;\n/**\n * @module\n * @description\n * This module contains the {@link FailoverRpcProvider} client class\n * which can be used to interact with multiple [NEAR RPC APIs](https://docs.near.org/api/rpc/introduction).\n * @see {@link \"@near-js/types\".provider | provider} for a list of request and response types\n */\nconst utils_1 = __webpack_require__(/*! @near-js/utils */ \"(ssr)/./node_modules/.pnpm/@near-js+utils@1.0.1/node_modules/@near-js/utils/lib/commonjs/index.cjs\");\nconst types_1 = __webpack_require__(/*! @near-js/types */ \"(ssr)/./node_modules/.pnpm/@near-js+types@0.3.1/node_modules/@near-js/types/lib/commonjs/index.cjs\");\nconst provider_1 = __webpack_require__(/*! ./provider.cjs */ \"(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/provider.cjs\");\n/**\n * Client class to interact with the [NEAR RPC API](https://docs.near.org/api/rpc/introduction).\n * @see [https://github.com/near/nearcore/tree/master/chain/jsonrpc](https://github.com/near/nearcore/tree/master/chain/jsonrpc)\n */\nclass FailoverRpcProvider extends provider_1.Provider {\n    /** @hidden */\n    providers;\n    currentProviderIndex;\n    /**\n     * @param providers list of providers\n     */\n    constructor(providers) {\n        super();\n        if (providers.length === 0) {\n            throw new Error('At least one provider must be specified');\n        }\n        this.providers = providers;\n        this.currentProviderIndex = 0;\n    }\n    switchToNextProvider() {\n        if (this.providers.length === 1)\n            return;\n        if (this.providers.length - 1 <= this.currentProviderIndex) {\n            this.currentProviderIndex = 0;\n        }\n        else {\n            this.currentProviderIndex += 1;\n        }\n        utils_1.Logger.debug(`Switched to provider at the index ${this.currentProviderIndex}`);\n    }\n    get currentProvider() {\n        const provider = this.providers[this.currentProviderIndex];\n        if (!provider)\n            throw new Error(`Provider wasn't found at index ${this.currentProviderIndex}`);\n        return provider;\n    }\n    async withBackoff(getResult) {\n        for (let i = 0; i < this.providers.length; i++) {\n            try {\n                // each provider implements own retry logic\n                const result = await getResult(this.currentProvider);\n                if (result)\n                    return result;\n            }\n            catch (e) {\n                console.error(e);\n                this.switchToNextProvider();\n            }\n        }\n        throw new types_1.TypedError(`Exceeded ${this.providers.length} providers to execute request`, 'RetriesExceeded');\n    }\n    /**\n     * Gets the RPC's status\n     * @see [https://docs.near.org/docs/develop/front-end/rpc#general-validator-status](https://docs.near.org/docs/develop/front-end/rpc#general-validator-status)\n     */\n    async status() {\n        return this.withBackoff((currentProvider) => currentProvider.status());\n    }\n    async sendTransactionUntil(signedTransaction, waitUntil) {\n        return this.withBackoff((currentProvider) => currentProvider.sendTransactionUntil(signedTransaction, waitUntil));\n    }\n    /**\n     * Sends a signed transaction to the RPC and waits until transaction is fully complete\n     * @see [https://docs.near.org/docs/develop/front-end/rpc#send-transaction-await](https://docs.near.org/docs/develop/front-end/rpc#general-validator-status)\n     *\n     * @param signedTransaction The signed transaction being sent\n     */\n    async sendTransaction(signedTransaction) {\n        return this.withBackoff((currentProvider) => currentProvider.sendTransaction(signedTransaction));\n    }\n    /**\n     * Sends a signed transaction to the RPC and immediately returns transaction hash\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#send-transaction-async)\n     * @param signedTransaction The signed transaction being sent\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    async sendTransactionAsync(signedTransaction) {\n        return this.withBackoff((currentProvider) => currentProvider.sendTransactionAsync(signedTransaction));\n    }\n    /**\n     * Gets a transaction's status from the RPC\n     * @see [https://docs.near.org/docs/develop/front-end/rpc#transaction-status](https://docs.near.org/docs/develop/front-end/rpc#general-validator-status)\n     *\n     * @param txHash A transaction hash as either a Uint8Array or a base58 encoded string\n     * @param accountId The NEAR account that signed the transaction\n     */\n    async txStatus(txHash, accountId, waitUntil) {\n        return this.withBackoff((currentProvider) => currentProvider.txStatus(txHash, accountId, waitUntil));\n    }\n    /**\n     * Gets a transaction's status from the RPC with receipts\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#transaction-status-with-receipts)\n     * @param txHash The hash of the transaction\n     * @param accountId The NEAR account that signed the transaction\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    async txStatusReceipts(txHash, accountId, waitUntil) {\n        return this.withBackoff((currentProvider) => currentProvider.txStatusReceipts(txHash, accountId, waitUntil));\n    }\n    async query(paramsOrPath, data) {\n        if (data) {\n            return this.withBackoff((currentProvider) => currentProvider.query(paramsOrPath, data));\n        }\n        return this.withBackoff((currentProvider) => currentProvider.query(paramsOrPath));\n    }\n    /**\n     * Query for block info from the RPC\n     * pass block_id OR finality as blockQuery, not both\n     * @see [https://docs.near.org/api/rpc/block-chunk](https://docs.near.org/api/rpc/block-chunk)\n     *\n     * @param blockQuery {@link BlockReference} (passing a {@link BlockId} is deprecated)\n     */\n    async block(blockQuery) {\n        return this.withBackoff((currentProvider) => currentProvider.block(blockQuery));\n    }\n    /**\n     * Query changes in block from the RPC\n     * pass block_id OR finality as blockQuery, not both\n     * @see [https://docs.near.org/api/rpc/block-chunk](https://docs.near.org/api/rpc/block-chunk)\n     */\n    async blockChanges(blockQuery) {\n        return this.withBackoff((currentProvider) => currentProvider.blockChanges(blockQuery));\n    }\n    /**\n     * Queries for details about a specific chunk appending details of receipts and transactions to the same chunk data provided by a block\n     * @see [https://docs.near.org/api/rpc/block-chunk](https://docs.near.org/api/rpc/block-chunk)\n     *\n     * @param chunkId Hash of a chunk ID or shard ID\n     */\n    async chunk(chunkId) {\n        return this.withBackoff((currentProvider) => currentProvider.chunk(chunkId));\n    }\n    /**\n     * Query validators of the epoch defined by the given block id.\n     * @see [https://docs.near.org/api/rpc/network#validation-status](https://docs.near.org/api/rpc/network#validation-status)\n     *\n     * @param blockId Block hash or height, or null for latest.\n     */\n    async validators(blockId) {\n        return this.withBackoff((currentProvider) => currentProvider.validators(blockId));\n    }\n    /**\n     * Gets the protocol config at a block from RPC\n     *\n     * @param blockReference specifies the block to get the protocol config for\n     */\n    async experimental_protocolConfig(blockReference) {\n        return this.withBackoff((currentProvider) => currentProvider.experimental_protocolConfig(blockReference));\n    }\n    /**\n     * Gets a light client execution proof for verifying execution outcomes\n     * @see [https://github.com/nearprotocol/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-proof](https://github.com/nearprotocol/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-proof)\n     */\n    async lightClientProof(request) {\n        return this.withBackoff((currentProvider) => currentProvider.lightClientProof(request));\n    }\n    /**\n     * Returns the next light client block as far in the future as possible from the last known hash\n     * to still be able to validate from that hash. This will either return the last block of the\n     * next epoch, or the last final known block.\n     *\n     * @see [https://github.com/near/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-block](https://github.com/near/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-block)\n     */\n    async nextLightClientBlock(request) {\n        return this.withBackoff((currentProvider) => currentProvider.nextLightClientBlock(request));\n    }\n    /**\n     * Gets access key changes for a given array of accountIds\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-access-key-changes-all)\n     * @returns {Promise<ChangeResult>}\n     */\n    async accessKeyChanges(accountIdArray, blockQuery) {\n        return this.withBackoff((currentProvider) => currentProvider.accessKeyChanges(accountIdArray, blockQuery));\n    }\n    /**\n     * Gets single access key changes for a given array of access keys\n     * pass block_id OR finality as blockQuery, not both\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-access-key-changes-single)\n     * @returns {Promise<ChangeResult>}\n     */\n    async singleAccessKeyChanges(accessKeyArray, blockQuery) {\n        return this.withBackoff((currentProvider) => currentProvider.singleAccessKeyChanges(accessKeyArray, blockQuery));\n    }\n    /**\n     * Gets account changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-account-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    async accountChanges(accountIdArray, blockQuery) {\n        return this.withBackoff((currentProvider) => currentProvider.accountChanges(accountIdArray, blockQuery));\n    }\n    /**\n     * Gets contract state changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * Note: If you pass a keyPrefix it must be base64 encoded\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-contract-state-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    async contractStateChanges(accountIdArray, blockQuery, keyPrefix = '') {\n        return this.withBackoff((currentProvider) => currentProvider.contractStateChanges(accountIdArray, blockQuery, keyPrefix));\n    }\n    /**\n     * Gets contract code changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * Note: Change is returned in a base64 encoded WASM file\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-contract-code-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    async contractCodeChanges(accountIdArray, blockQuery) {\n        return this.withBackoff((currentProvider) => currentProvider.contractCodeChanges(accountIdArray, blockQuery));\n    }\n    /**\n     * Returns gas price for a specific block_height or block_hash.\n     * @see [https://docs.near.org/api/rpc/gas](https://docs.near.org/api/rpc/gas)\n     *\n     * @param blockId Block hash or height, or null for latest.\n     */\n    async gasPrice(blockId) {\n        return this.withBackoff((currentProvider) => currentProvider.gasPrice(blockId));\n    }\n}\nexports.FailoverRpcProvider = FailoverRpcProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG5lYXItanMrcHJvdmlkZXJzQDEuMC4xL25vZGVfbW9kdWxlcy9AbmVhci1qcy9wcm92aWRlcnMvbGliL2NvbW1vbmpzL2ZhaWxvdmVyLXJwYy1wcm92aWRlci5janMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyQkFBMkI7QUFDeEQ7QUFDQSxTQUFTLDRDQUE0QztBQUNyRDtBQUNBLGdCQUFnQixtQkFBTyxDQUFDLDBIQUFnQjtBQUN4QyxnQkFBZ0IsbUJBQU8sQ0FBQywwSEFBZ0I7QUFDeEMsbUJBQW1CLG1CQUFPLENBQUMscUlBQWdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLDBCQUEwQjtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCwwQkFBMEI7QUFDeEY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJCQUEyQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELHVCQUF1QjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNCQUFzQixZQUFZLGVBQWU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2thdGhvbi1uZWFyLXJlZGFjdGVkLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BuZWFyLWpzK3Byb3ZpZGVyc0AxLjAuMS9ub2RlX21vZHVsZXMvQG5lYXItanMvcHJvdmlkZXJzL2xpYi9jb21tb25qcy9mYWlsb3Zlci1ycGMtcHJvdmlkZXIuY2pzPzJkZTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZhaWxvdmVyUnBjUHJvdmlkZXIgPSB2b2lkIDA7XG4vKipcbiAqIEBtb2R1bGVcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBtb2R1bGUgY29udGFpbnMgdGhlIHtAbGluayBGYWlsb3ZlclJwY1Byb3ZpZGVyfSBjbGllbnQgY2xhc3NcbiAqIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGludGVyYWN0IHdpdGggbXVsdGlwbGUgW05FQVIgUlBDIEFQSXNdKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9hcGkvcnBjL2ludHJvZHVjdGlvbikuXG4gKiBAc2VlIHtAbGluayBcIkBuZWFyLWpzL3R5cGVzXCIucHJvdmlkZXIgfCBwcm92aWRlcn0gZm9yIGEgbGlzdCBvZiByZXF1ZXN0IGFuZCByZXNwb25zZSB0eXBlc1xuICovXG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIkBuZWFyLWpzL3V0aWxzXCIpO1xuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCJAbmVhci1qcy90eXBlc1wiKTtcbmNvbnN0IHByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9wcm92aWRlci5janNcIik7XG4vKipcbiAqIENsaWVudCBjbGFzcyB0byBpbnRlcmFjdCB3aXRoIHRoZSBbTkVBUiBSUEMgQVBJXShodHRwczovL2RvY3MubmVhci5vcmcvYXBpL3JwYy9pbnRyb2R1Y3Rpb24pLlxuICogQHNlZSBbaHR0cHM6Ly9naXRodWIuY29tL25lYXIvbmVhcmNvcmUvdHJlZS9tYXN0ZXIvY2hhaW4vanNvbnJwY10oaHR0cHM6Ly9naXRodWIuY29tL25lYXIvbmVhcmNvcmUvdHJlZS9tYXN0ZXIvY2hhaW4vanNvbnJwYylcbiAqL1xuY2xhc3MgRmFpbG92ZXJScGNQcm92aWRlciBleHRlbmRzIHByb3ZpZGVyXzEuUHJvdmlkZXIge1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgcHJvdmlkZXJzO1xuICAgIGN1cnJlbnRQcm92aWRlckluZGV4O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwcm92aWRlcnMgbGlzdCBvZiBwcm92aWRlcnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm92aWRlcnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgaWYgKHByb3ZpZGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXQgbGVhc3Qgb25lIHByb3ZpZGVyIG11c3QgYmUgc3BlY2lmaWVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm92aWRlcnMgPSBwcm92aWRlcnM7XG4gICAgICAgIHRoaXMuY3VycmVudFByb3ZpZGVySW5kZXggPSAwO1xuICAgIH1cbiAgICBzd2l0Y2hUb05leHRQcm92aWRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvdmlkZXJzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMucHJvdmlkZXJzLmxlbmd0aCAtIDEgPD0gdGhpcy5jdXJyZW50UHJvdmlkZXJJbmRleCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UHJvdmlkZXJJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQcm92aWRlckluZGV4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdXRpbHNfMS5Mb2dnZXIuZGVidWcoYFN3aXRjaGVkIHRvIHByb3ZpZGVyIGF0IHRoZSBpbmRleCAke3RoaXMuY3VycmVudFByb3ZpZGVySW5kZXh9YCk7XG4gICAgfVxuICAgIGdldCBjdXJyZW50UHJvdmlkZXIoKSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gdGhpcy5wcm92aWRlcnNbdGhpcy5jdXJyZW50UHJvdmlkZXJJbmRleF07XG4gICAgICAgIGlmICghcHJvdmlkZXIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3ZpZGVyIHdhc24ndCBmb3VuZCBhdCBpbmRleCAke3RoaXMuY3VycmVudFByb3ZpZGVySW5kZXh9YCk7XG4gICAgICAgIHJldHVybiBwcm92aWRlcjtcbiAgICB9XG4gICAgYXN5bmMgd2l0aEJhY2tvZmYoZ2V0UmVzdWx0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gZWFjaCBwcm92aWRlciBpbXBsZW1lbnRzIG93biByZXRyeSBsb2dpY1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlc3VsdCh0aGlzLmN1cnJlbnRQcm92aWRlcik7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaFRvTmV4dFByb3ZpZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IHR5cGVzXzEuVHlwZWRFcnJvcihgRXhjZWVkZWQgJHt0aGlzLnByb3ZpZGVycy5sZW5ndGh9IHByb3ZpZGVycyB0byBleGVjdXRlIHJlcXVlc3RgLCAnUmV0cmllc0V4Y2VlZGVkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIFJQQydzIHN0YXR1c1xuICAgICAqIEBzZWUgW2h0dHBzOi8vZG9jcy5uZWFyLm9yZy9kb2NzL2RldmVsb3AvZnJvbnQtZW5kL3JwYyNnZW5lcmFsLXZhbGlkYXRvci1zdGF0dXNdKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9kb2NzL2RldmVsb3AvZnJvbnQtZW5kL3JwYyNnZW5lcmFsLXZhbGlkYXRvci1zdGF0dXMpXG4gICAgICovXG4gICAgYXN5bmMgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoQmFja29mZigoY3VycmVudFByb3ZpZGVyKSA9PiBjdXJyZW50UHJvdmlkZXIuc3RhdHVzKCkpO1xuICAgIH1cbiAgICBhc3luYyBzZW5kVHJhbnNhY3Rpb25VbnRpbChzaWduZWRUcmFuc2FjdGlvbiwgd2FpdFVudGlsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhCYWNrb2ZmKChjdXJyZW50UHJvdmlkZXIpID0+IGN1cnJlbnRQcm92aWRlci5zZW5kVHJhbnNhY3Rpb25VbnRpbChzaWduZWRUcmFuc2FjdGlvbiwgd2FpdFVudGlsKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgc2lnbmVkIHRyYW5zYWN0aW9uIHRvIHRoZSBSUEMgYW5kIHdhaXRzIHVudGlsIHRyYW5zYWN0aW9uIGlzIGZ1bGx5IGNvbXBsZXRlXG4gICAgICogQHNlZSBbaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2RvY3MvZGV2ZWxvcC9mcm9udC1lbmQvcnBjI3NlbmQtdHJhbnNhY3Rpb24tYXdhaXRdKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9kb2NzL2RldmVsb3AvZnJvbnQtZW5kL3JwYyNnZW5lcmFsLXZhbGlkYXRvci1zdGF0dXMpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2lnbmVkVHJhbnNhY3Rpb24gVGhlIHNpZ25lZCB0cmFuc2FjdGlvbiBiZWluZyBzZW50XG4gICAgICovXG4gICAgYXN5bmMgc2VuZFRyYW5zYWN0aW9uKHNpZ25lZFRyYW5zYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhCYWNrb2ZmKChjdXJyZW50UHJvdmlkZXIpID0+IGN1cnJlbnRQcm92aWRlci5zZW5kVHJhbnNhY3Rpb24oc2lnbmVkVHJhbnNhY3Rpb24pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBzaWduZWQgdHJhbnNhY3Rpb24gdG8gdGhlIFJQQyBhbmQgaW1tZWRpYXRlbHkgcmV0dXJucyB0cmFuc2FjdGlvbiBoYXNoXG4gICAgICogU2VlIFtkb2NzIGZvciBtb3JlIGluZm9dKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9kb2NzL2RldmVsb3AvZnJvbnQtZW5kL3JwYyNzZW5kLXRyYW5zYWN0aW9uLWFzeW5jKVxuICAgICAqIEBwYXJhbSBzaWduZWRUcmFuc2FjdGlvbiBUaGUgc2lnbmVkIHRyYW5zYWN0aW9uIGJlaW5nIHNlbnRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxGaW5hbEV4ZWN1dGlvbk91dGNvbWU+fVxuICAgICAqL1xuICAgIGFzeW5jIHNlbmRUcmFuc2FjdGlvbkFzeW5jKHNpZ25lZFRyYW5zYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhCYWNrb2ZmKChjdXJyZW50UHJvdmlkZXIpID0+IGN1cnJlbnRQcm92aWRlci5zZW5kVHJhbnNhY3Rpb25Bc3luYyhzaWduZWRUcmFuc2FjdGlvbikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgdHJhbnNhY3Rpb24ncyBzdGF0dXMgZnJvbSB0aGUgUlBDXG4gICAgICogQHNlZSBbaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2RvY3MvZGV2ZWxvcC9mcm9udC1lbmQvcnBjI3RyYW5zYWN0aW9uLXN0YXR1c10oaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2RvY3MvZGV2ZWxvcC9mcm9udC1lbmQvcnBjI2dlbmVyYWwtdmFsaWRhdG9yLXN0YXR1cylcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0eEhhc2ggQSB0cmFuc2FjdGlvbiBoYXNoIGFzIGVpdGhlciBhIFVpbnQ4QXJyYXkgb3IgYSBiYXNlNTggZW5jb2RlZCBzdHJpbmdcbiAgICAgKiBAcGFyYW0gYWNjb3VudElkIFRoZSBORUFSIGFjY291bnQgdGhhdCBzaWduZWQgdGhlIHRyYW5zYWN0aW9uXG4gICAgICovXG4gICAgYXN5bmMgdHhTdGF0dXModHhIYXNoLCBhY2NvdW50SWQsIHdhaXRVbnRpbCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoQmFja29mZigoY3VycmVudFByb3ZpZGVyKSA9PiBjdXJyZW50UHJvdmlkZXIudHhTdGF0dXModHhIYXNoLCBhY2NvdW50SWQsIHdhaXRVbnRpbCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgdHJhbnNhY3Rpb24ncyBzdGF0dXMgZnJvbSB0aGUgUlBDIHdpdGggcmVjZWlwdHNcbiAgICAgKiBTZWUgW2RvY3MgZm9yIG1vcmUgaW5mb10oaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2RvY3MvZGV2ZWxvcC9mcm9udC1lbmQvcnBjI3RyYW5zYWN0aW9uLXN0YXR1cy13aXRoLXJlY2VpcHRzKVxuICAgICAqIEBwYXJhbSB0eEhhc2ggVGhlIGhhc2ggb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAgICogQHBhcmFtIGFjY291bnRJZCBUaGUgTkVBUiBhY2NvdW50IHRoYXQgc2lnbmVkIHRoZSB0cmFuc2FjdGlvblxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEZpbmFsRXhlY3V0aW9uT3V0Y29tZT59XG4gICAgICovXG4gICAgYXN5bmMgdHhTdGF0dXNSZWNlaXB0cyh0eEhhc2gsIGFjY291bnRJZCwgd2FpdFVudGlsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhCYWNrb2ZmKChjdXJyZW50UHJvdmlkZXIpID0+IGN1cnJlbnRQcm92aWRlci50eFN0YXR1c1JlY2VpcHRzKHR4SGFzaCwgYWNjb3VudElkLCB3YWl0VW50aWwpKTtcbiAgICB9XG4gICAgYXN5bmMgcXVlcnkocGFyYW1zT3JQYXRoLCBkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy53aXRoQmFja29mZigoY3VycmVudFByb3ZpZGVyKSA9PiBjdXJyZW50UHJvdmlkZXIucXVlcnkocGFyYW1zT3JQYXRoLCBkYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aEJhY2tvZmYoKGN1cnJlbnRQcm92aWRlcikgPT4gY3VycmVudFByb3ZpZGVyLnF1ZXJ5KHBhcmFtc09yUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWVyeSBmb3IgYmxvY2sgaW5mbyBmcm9tIHRoZSBSUENcbiAgICAgKiBwYXNzIGJsb2NrX2lkIE9SIGZpbmFsaXR5IGFzIGJsb2NrUXVlcnksIG5vdCBib3RoXG4gICAgICogQHNlZSBbaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2FwaS9ycGMvYmxvY2stY2h1bmtdKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9hcGkvcnBjL2Jsb2NrLWNodW5rKVxuICAgICAqXG4gICAgICogQHBhcmFtIGJsb2NrUXVlcnkge0BsaW5rIEJsb2NrUmVmZXJlbmNlfSAocGFzc2luZyBhIHtAbGluayBCbG9ja0lkfSBpcyBkZXByZWNhdGVkKVxuICAgICAqL1xuICAgIGFzeW5jIGJsb2NrKGJsb2NrUXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aEJhY2tvZmYoKGN1cnJlbnRQcm92aWRlcikgPT4gY3VycmVudFByb3ZpZGVyLmJsb2NrKGJsb2NrUXVlcnkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUXVlcnkgY2hhbmdlcyBpbiBibG9jayBmcm9tIHRoZSBSUENcbiAgICAgKiBwYXNzIGJsb2NrX2lkIE9SIGZpbmFsaXR5IGFzIGJsb2NrUXVlcnksIG5vdCBib3RoXG4gICAgICogQHNlZSBbaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2FwaS9ycGMvYmxvY2stY2h1bmtdKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9hcGkvcnBjL2Jsb2NrLWNodW5rKVxuICAgICAqL1xuICAgIGFzeW5jIGJsb2NrQ2hhbmdlcyhibG9ja1F1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhCYWNrb2ZmKChjdXJyZW50UHJvdmlkZXIpID0+IGN1cnJlbnRQcm92aWRlci5ibG9ja0NoYW5nZXMoYmxvY2tRdWVyeSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWVyaWVzIGZvciBkZXRhaWxzIGFib3V0IGEgc3BlY2lmaWMgY2h1bmsgYXBwZW5kaW5nIGRldGFpbHMgb2YgcmVjZWlwdHMgYW5kIHRyYW5zYWN0aW9ucyB0byB0aGUgc2FtZSBjaHVuayBkYXRhIHByb3ZpZGVkIGJ5IGEgYmxvY2tcbiAgICAgKiBAc2VlIFtodHRwczovL2RvY3MubmVhci5vcmcvYXBpL3JwYy9ibG9jay1jaHVua10oaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2FwaS9ycGMvYmxvY2stY2h1bmspXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2h1bmtJZCBIYXNoIG9mIGEgY2h1bmsgSUQgb3Igc2hhcmQgSURcbiAgICAgKi9cbiAgICBhc3luYyBjaHVuayhjaHVua0lkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhCYWNrb2ZmKChjdXJyZW50UHJvdmlkZXIpID0+IGN1cnJlbnRQcm92aWRlci5jaHVuayhjaHVua0lkKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFF1ZXJ5IHZhbGlkYXRvcnMgb2YgdGhlIGVwb2NoIGRlZmluZWQgYnkgdGhlIGdpdmVuIGJsb2NrIGlkLlxuICAgICAqIEBzZWUgW2h0dHBzOi8vZG9jcy5uZWFyLm9yZy9hcGkvcnBjL25ldHdvcmsjdmFsaWRhdGlvbi1zdGF0dXNdKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9hcGkvcnBjL25ldHdvcmsjdmFsaWRhdGlvbi1zdGF0dXMpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYmxvY2tJZCBCbG9jayBoYXNoIG9yIGhlaWdodCwgb3IgbnVsbCBmb3IgbGF0ZXN0LlxuICAgICAqL1xuICAgIGFzeW5jIHZhbGlkYXRvcnMoYmxvY2tJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoQmFja29mZigoY3VycmVudFByb3ZpZGVyKSA9PiBjdXJyZW50UHJvdmlkZXIudmFsaWRhdG9ycyhibG9ja0lkKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHByb3RvY29sIGNvbmZpZyBhdCBhIGJsb2NrIGZyb20gUlBDXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYmxvY2tSZWZlcmVuY2Ugc3BlY2lmaWVzIHRoZSBibG9jayB0byBnZXQgdGhlIHByb3RvY29sIGNvbmZpZyBmb3JcbiAgICAgKi9cbiAgICBhc3luYyBleHBlcmltZW50YWxfcHJvdG9jb2xDb25maWcoYmxvY2tSZWZlcmVuY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aEJhY2tvZmYoKGN1cnJlbnRQcm92aWRlcikgPT4gY3VycmVudFByb3ZpZGVyLmV4cGVyaW1lbnRhbF9wcm90b2NvbENvbmZpZyhibG9ja1JlZmVyZW5jZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbGlnaHQgY2xpZW50IGV4ZWN1dGlvbiBwcm9vZiBmb3IgdmVyaWZ5aW5nIGV4ZWN1dGlvbiBvdXRjb21lc1xuICAgICAqIEBzZWUgW2h0dHBzOi8vZ2l0aHViLmNvbS9uZWFycHJvdG9jb2wvTkVQcy9ibG9iL21hc3Rlci9zcGVjcy9DaGFpblNwZWMvTGlnaHRDbGllbnQubWQjbGlnaHQtY2xpZW50LXByb29mXShodHRwczovL2dpdGh1Yi5jb20vbmVhcnByb3RvY29sL05FUHMvYmxvYi9tYXN0ZXIvc3BlY3MvQ2hhaW5TcGVjL0xpZ2h0Q2xpZW50Lm1kI2xpZ2h0LWNsaWVudC1wcm9vZilcbiAgICAgKi9cbiAgICBhc3luYyBsaWdodENsaWVudFByb29mKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aEJhY2tvZmYoKGN1cnJlbnRQcm92aWRlcikgPT4gY3VycmVudFByb3ZpZGVyLmxpZ2h0Q2xpZW50UHJvb2YocmVxdWVzdCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBuZXh0IGxpZ2h0IGNsaWVudCBibG9jayBhcyBmYXIgaW4gdGhlIGZ1dHVyZSBhcyBwb3NzaWJsZSBmcm9tIHRoZSBsYXN0IGtub3duIGhhc2hcbiAgICAgKiB0byBzdGlsbCBiZSBhYmxlIHRvIHZhbGlkYXRlIGZyb20gdGhhdCBoYXNoLiBUaGlzIHdpbGwgZWl0aGVyIHJldHVybiB0aGUgbGFzdCBibG9jayBvZiB0aGVcbiAgICAgKiBuZXh0IGVwb2NoLCBvciB0aGUgbGFzdCBmaW5hbCBrbm93biBibG9jay5cbiAgICAgKlxuICAgICAqIEBzZWUgW2h0dHBzOi8vZ2l0aHViLmNvbS9uZWFyL05FUHMvYmxvYi9tYXN0ZXIvc3BlY3MvQ2hhaW5TcGVjL0xpZ2h0Q2xpZW50Lm1kI2xpZ2h0LWNsaWVudC1ibG9ja10oaHR0cHM6Ly9naXRodWIuY29tL25lYXIvTkVQcy9ibG9iL21hc3Rlci9zcGVjcy9DaGFpblNwZWMvTGlnaHRDbGllbnQubWQjbGlnaHQtY2xpZW50LWJsb2NrKVxuICAgICAqL1xuICAgIGFzeW5jIG5leHRMaWdodENsaWVudEJsb2NrKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aEJhY2tvZmYoKGN1cnJlbnRQcm92aWRlcikgPT4gY3VycmVudFByb3ZpZGVyLm5leHRMaWdodENsaWVudEJsb2NrKHJlcXVlc3QpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhY2Nlc3Mga2V5IGNoYW5nZXMgZm9yIGEgZ2l2ZW4gYXJyYXkgb2YgYWNjb3VudElkc1xuICAgICAqIFNlZSBbZG9jcyBmb3IgbW9yZSBpbmZvXShodHRwczovL2RvY3MubmVhci5vcmcvZG9jcy9kZXZlbG9wL2Zyb250LWVuZC9ycGMjdmlldy1hY2Nlc3Mta2V5LWNoYW5nZXMtYWxsKVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPENoYW5nZVJlc3VsdD59XG4gICAgICovXG4gICAgYXN5bmMgYWNjZXNzS2V5Q2hhbmdlcyhhY2NvdW50SWRBcnJheSwgYmxvY2tRdWVyeSkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoQmFja29mZigoY3VycmVudFByb3ZpZGVyKSA9PiBjdXJyZW50UHJvdmlkZXIuYWNjZXNzS2V5Q2hhbmdlcyhhY2NvdW50SWRBcnJheSwgYmxvY2tRdWVyeSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHNpbmdsZSBhY2Nlc3Mga2V5IGNoYW5nZXMgZm9yIGEgZ2l2ZW4gYXJyYXkgb2YgYWNjZXNzIGtleXNcbiAgICAgKiBwYXNzIGJsb2NrX2lkIE9SIGZpbmFsaXR5IGFzIGJsb2NrUXVlcnksIG5vdCBib3RoXG4gICAgICogU2VlIFtkb2NzIGZvciBtb3JlIGluZm9dKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9kb2NzL2RldmVsb3AvZnJvbnQtZW5kL3JwYyN2aWV3LWFjY2Vzcy1rZXktY2hhbmdlcy1zaW5nbGUpXG4gICAgICogQHJldHVybnMge1Byb21pc2U8Q2hhbmdlUmVzdWx0Pn1cbiAgICAgKi9cbiAgICBhc3luYyBzaW5nbGVBY2Nlc3NLZXlDaGFuZ2VzKGFjY2Vzc0tleUFycmF5LCBibG9ja1F1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhCYWNrb2ZmKChjdXJyZW50UHJvdmlkZXIpID0+IGN1cnJlbnRQcm92aWRlci5zaW5nbGVBY2Nlc3NLZXlDaGFuZ2VzKGFjY2Vzc0tleUFycmF5LCBibG9ja1F1ZXJ5KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWNjb3VudCBjaGFuZ2VzIGZvciBhIGdpdmVuIGFycmF5IG9mIGFjY291bnRJZHNcbiAgICAgKiBwYXNzIGJsb2NrX2lkIE9SIGZpbmFsaXR5IGFzIGJsb2NrUXVlcnksIG5vdCBib3RoXG4gICAgICogU2VlIFtkb2NzIGZvciBtb3JlIGluZm9dKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9kb2NzL2RldmVsb3AvZnJvbnQtZW5kL3JwYyN2aWV3LWFjY291bnQtY2hhbmdlcylcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxDaGFuZ2VSZXN1bHQ+fVxuICAgICAqL1xuICAgIGFzeW5jIGFjY291bnRDaGFuZ2VzKGFjY291bnRJZEFycmF5LCBibG9ja1F1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhCYWNrb2ZmKChjdXJyZW50UHJvdmlkZXIpID0+IGN1cnJlbnRQcm92aWRlci5hY2NvdW50Q2hhbmdlcyhhY2NvdW50SWRBcnJheSwgYmxvY2tRdWVyeSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGNvbnRyYWN0IHN0YXRlIGNoYW5nZXMgZm9yIGEgZ2l2ZW4gYXJyYXkgb2YgYWNjb3VudElkc1xuICAgICAqIHBhc3MgYmxvY2tfaWQgT1IgZmluYWxpdHkgYXMgYmxvY2tRdWVyeSwgbm90IGJvdGhcbiAgICAgKiBOb3RlOiBJZiB5b3UgcGFzcyBhIGtleVByZWZpeCBpdCBtdXN0IGJlIGJhc2U2NCBlbmNvZGVkXG4gICAgICogU2VlIFtkb2NzIGZvciBtb3JlIGluZm9dKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9kb2NzL2RldmVsb3AvZnJvbnQtZW5kL3JwYyN2aWV3LWNvbnRyYWN0LXN0YXRlLWNoYW5nZXMpXG4gICAgICogQHJldHVybnMge1Byb21pc2U8Q2hhbmdlUmVzdWx0Pn1cbiAgICAgKi9cbiAgICBhc3luYyBjb250cmFjdFN0YXRlQ2hhbmdlcyhhY2NvdW50SWRBcnJheSwgYmxvY2tRdWVyeSwga2V5UHJlZml4ID0gJycpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aEJhY2tvZmYoKGN1cnJlbnRQcm92aWRlcikgPT4gY3VycmVudFByb3ZpZGVyLmNvbnRyYWN0U3RhdGVDaGFuZ2VzKGFjY291bnRJZEFycmF5LCBibG9ja1F1ZXJ5LCBrZXlQcmVmaXgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBjb250cmFjdCBjb2RlIGNoYW5nZXMgZm9yIGEgZ2l2ZW4gYXJyYXkgb2YgYWNjb3VudElkc1xuICAgICAqIHBhc3MgYmxvY2tfaWQgT1IgZmluYWxpdHkgYXMgYmxvY2tRdWVyeSwgbm90IGJvdGhcbiAgICAgKiBOb3RlOiBDaGFuZ2UgaXMgcmV0dXJuZWQgaW4gYSBiYXNlNjQgZW5jb2RlZCBXQVNNIGZpbGVcbiAgICAgKiBTZWUgW2RvY3MgZm9yIG1vcmUgaW5mb10oaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2RvY3MvZGV2ZWxvcC9mcm9udC1lbmQvcnBjI3ZpZXctY29udHJhY3QtY29kZS1jaGFuZ2VzKVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPENoYW5nZVJlc3VsdD59XG4gICAgICovXG4gICAgYXN5bmMgY29udHJhY3RDb2RlQ2hhbmdlcyhhY2NvdW50SWRBcnJheSwgYmxvY2tRdWVyeSkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoQmFja29mZigoY3VycmVudFByb3ZpZGVyKSA9PiBjdXJyZW50UHJvdmlkZXIuY29udHJhY3RDb2RlQ2hhbmdlcyhhY2NvdW50SWRBcnJheSwgYmxvY2tRdWVyeSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGdhcyBwcmljZSBmb3IgYSBzcGVjaWZpYyBibG9ja19oZWlnaHQgb3IgYmxvY2tfaGFzaC5cbiAgICAgKiBAc2VlIFtodHRwczovL2RvY3MubmVhci5vcmcvYXBpL3JwYy9nYXNdKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9hcGkvcnBjL2dhcylcbiAgICAgKlxuICAgICAqIEBwYXJhbSBibG9ja0lkIEJsb2NrIGhhc2ggb3IgaGVpZ2h0LCBvciBudWxsIGZvciBsYXRlc3QuXG4gICAgICovXG4gICAgYXN5bmMgZ2FzUHJpY2UoYmxvY2tJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoQmFja29mZigoY3VycmVudFByb3ZpZGVyKSA9PiBjdXJyZW50UHJvdmlkZXIuZ2FzUHJpY2UoYmxvY2tJZCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuRmFpbG92ZXJScGNQcm92aWRlciA9IEZhaWxvdmVyUnBjUHJvdmlkZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/failover-rpc-provider.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/fetch_json.cjs":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/fetch_json.cjs ***!
  \*****************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fetchJsonRpc = void 0;\nconst types_1 = __webpack_require__(/*! @near-js/types */ \"(ssr)/./node_modules/.pnpm/@near-js+types@0.3.1/node_modules/@near-js/types/lib/commonjs/index.cjs\");\nconst exponential_backoff_1 = __webpack_require__(/*! exponential-backoff */ \"(ssr)/./node_modules/.pnpm/exponential-backoff@3.1.1/node_modules/exponential-backoff/dist/backoff.js\");\nconst isomorphic_unfetch_1 = __importDefault(__webpack_require__(/*! isomorphic-unfetch */ \"(ssr)/./node_modules/.pnpm/isomorphic-unfetch@3.1.0/node_modules/isomorphic-unfetch/index.js\"));\nconst BACKOFF_MULTIPLIER = 1.5;\nconst RETRY_NUMBER = 10;\nconst retryConfig = {\n    numOfAttempts: RETRY_NUMBER,\n    timeMultiple: BACKOFF_MULTIPLIER,\n    retry: (e) => {\n        if ([503, 408].includes(e.cause)) {\n            return true;\n        }\n        if (e.toString().includes('FetchError') || e.toString().includes('Failed to fetch')) {\n            return true;\n        }\n        return false;\n    }\n};\nclass ProviderError extends Error {\n    cause;\n    constructor(message, options) {\n        super(message, options);\n    }\n}\n/**\n * Performs an HTTP request to an RPC endpoint\n * @param url URL for the HTTP request\n * @param json Request body\n * @param headers HTTP headers to include with the request\n * @returns Promise<any> }arsed JSON response from the HTTP request.\n */\nasync function fetchJsonRpc(url, json, headers) {\n    const response = await (0, exponential_backoff_1.backOff)(async () => {\n        const res = await (0, isomorphic_unfetch_1.default)(url, {\n            method: 'POST',\n            body: JSON.stringify(json),\n            headers: { ...headers, 'Content-Type': 'application/json' }\n        });\n        const { ok, status } = res;\n        if (!ok) {\n            throw new ProviderError(await res.text(), { cause: status });\n        }\n        if (status === 503) {\n            throw new ProviderError(`${url} unavailable`, { cause: status });\n        }\n        else if (status === 408) {\n            throw new ProviderError('Unused connection', { cause: status });\n        }\n        return res;\n    }, retryConfig);\n    if (!response) {\n        throw new types_1.TypedError(`Exceeded ${RETRY_NUMBER} attempts for ${url}.`, 'RetriesExceeded');\n    }\n    return await response.json();\n}\nexports.fetchJsonRpc = fetchJsonRpc;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG5lYXItanMrcHJvdmlkZXJzQDEuMC4xL25vZGVfbW9kdWxlcy9AbmVhci1qcy9wcm92aWRlcnMvbGliL2NvbW1vbmpzL2ZldGNoX2pzb24uY2pzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLGdCQUFnQixtQkFBTyxDQUFDLDBIQUFnQjtBQUN4Qyw4QkFBOEIsbUJBQU8sQ0FBQyxrSUFBcUI7QUFDM0QsNkNBQTZDLG1CQUFPLENBQUMsd0hBQW9CO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLFNBQVM7QUFDVCxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBLHdEQUF3RCxlQUFlO0FBQ3ZFO0FBQ0E7QUFDQSx1Q0FBdUMsS0FBSyxnQkFBZ0IsZUFBZTtBQUMzRTtBQUNBO0FBQ0EsMkRBQTJELGVBQWU7QUFDMUU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGlEQUFpRCxjQUFjLGVBQWUsSUFBSTtBQUNsRjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrYXRob24tbmVhci1yZWRhY3RlZC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbmVhci1qcytwcm92aWRlcnNAMS4wLjEvbm9kZV9tb2R1bGVzL0BuZWFyLWpzL3Byb3ZpZGVycy9saWIvY29tbW9uanMvZmV0Y2hfanNvbi5janM/N2I3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZmV0Y2hKc29uUnBjID0gdm9pZCAwO1xuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCJAbmVhci1qcy90eXBlc1wiKTtcbmNvbnN0IGV4cG9uZW50aWFsX2JhY2tvZmZfMSA9IHJlcXVpcmUoXCJleHBvbmVudGlhbC1iYWNrb2ZmXCIpO1xuY29uc3QgaXNvbW9ycGhpY191bmZldGNoXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImlzb21vcnBoaWMtdW5mZXRjaFwiKSk7XG5jb25zdCBCQUNLT0ZGX01VTFRJUExJRVIgPSAxLjU7XG5jb25zdCBSRVRSWV9OVU1CRVIgPSAxMDtcbmNvbnN0IHJldHJ5Q29uZmlnID0ge1xuICAgIG51bU9mQXR0ZW1wdHM6IFJFVFJZX05VTUJFUixcbiAgICB0aW1lTXVsdGlwbGU6IEJBQ0tPRkZfTVVMVElQTElFUixcbiAgICByZXRyeTogKGUpID0+IHtcbiAgICAgICAgaWYgKFs1MDMsIDQwOF0uaW5jbHVkZXMoZS5jYXVzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLnRvU3RyaW5nKCkuaW5jbHVkZXMoJ0ZldGNoRXJyb3InKSB8fCBlLnRvU3RyaW5nKCkuaW5jbHVkZXMoJ0ZhaWxlZCB0byBmZXRjaCcpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcbmNsYXNzIFByb3ZpZGVyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY2F1c2U7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBvcHRpb25zKTtcbiAgICB9XG59XG4vKipcbiAqIFBlcmZvcm1zIGFuIEhUVFAgcmVxdWVzdCB0byBhbiBSUEMgZW5kcG9pbnRcbiAqIEBwYXJhbSB1cmwgVVJMIGZvciB0aGUgSFRUUCByZXF1ZXN0XG4gKiBAcGFyYW0ganNvbiBSZXF1ZXN0IGJvZHlcbiAqIEBwYXJhbSBoZWFkZXJzIEhUVFAgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggdGhlIHJlcXVlc3RcbiAqIEByZXR1cm5zIFByb21pc2U8YW55PiB9YXJzZWQgSlNPTiByZXNwb25zZSBmcm9tIHRoZSBIVFRQIHJlcXVlc3QuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoSnNvblJwYyh1cmwsIGpzb24sIGhlYWRlcnMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0ICgwLCBleHBvbmVudGlhbF9iYWNrb2ZmXzEuYmFja09mZikoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCAoMCwgaXNvbW9ycGhpY191bmZldGNoXzEuZGVmYXVsdCkodXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGpzb24pLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi5oZWFkZXJzLCAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsgb2ssIHN0YXR1cyB9ID0gcmVzO1xuICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUHJvdmlkZXJFcnJvcihhd2FpdCByZXMudGV4dCgpLCB7IGNhdXNlOiBzdGF0dXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNTAzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUHJvdmlkZXJFcnJvcihgJHt1cmx9IHVuYXZhaWxhYmxlYCwgeyBjYXVzZTogc3RhdHVzIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gNDA4KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUHJvdmlkZXJFcnJvcignVW51c2VkIGNvbm5lY3Rpb24nLCB7IGNhdXNlOiBzdGF0dXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9LCByZXRyeUNvbmZpZyk7XG4gICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICB0aHJvdyBuZXcgdHlwZXNfMS5UeXBlZEVycm9yKGBFeGNlZWRlZCAke1JFVFJZX05VTUJFUn0gYXR0ZW1wdHMgZm9yICR7dXJsfS5gLCAnUmV0cmllc0V4Y2VlZGVkJyk7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG59XG5leHBvcnRzLmZldGNoSnNvblJwYyA9IGZldGNoSnNvblJwYztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/fetch_json.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/index.cjs":
/*!************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/index.cjs ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Provider = exports.FailoverRpcProvider = exports.JsonRpcProvider = exports.exponentialBackoff = void 0;\nvar exponential_backoff_1 = __webpack_require__(/*! ./exponential-backoff.cjs */ \"(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/exponential-backoff.cjs\");\nObject.defineProperty(exports, \"exponentialBackoff\", ({ enumerable: true, get: function () { return exponential_backoff_1.exponentialBackoff; } }));\nvar json_rpc_provider_1 = __webpack_require__(/*! ./json-rpc-provider.cjs */ \"(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/json-rpc-provider.cjs\");\nObject.defineProperty(exports, \"JsonRpcProvider\", ({ enumerable: true, get: function () { return json_rpc_provider_1.JsonRpcProvider; } }));\nvar failover_rpc_provider_1 = __webpack_require__(/*! ./failover-rpc-provider.cjs */ \"(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/failover-rpc-provider.cjs\");\nObject.defineProperty(exports, \"FailoverRpcProvider\", ({ enumerable: true, get: function () { return failover_rpc_provider_1.FailoverRpcProvider; } }));\nvar provider_1 = __webpack_require__(/*! ./provider.cjs */ \"(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/provider.cjs\");\nObject.defineProperty(exports, \"Provider\", ({ enumerable: true, get: function () { return provider_1.Provider; } }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG5lYXItanMrcHJvdmlkZXJzQDEuMC4xL25vZGVfbW9kdWxlcy9AbmVhci1qcy9wcm92aWRlcnMvbGliL2NvbW1vbmpzL2luZGV4LmNqcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsR0FBRywyQkFBMkIsR0FBRyx1QkFBdUIsR0FBRywwQkFBMEI7QUFDckcsNEJBQTRCLG1CQUFPLENBQUMsMkpBQTJCO0FBQy9ELHNEQUFxRCxFQUFFLHFDQUFxQyxvREFBb0QsRUFBQztBQUNqSiwwQkFBMEIsbUJBQU8sQ0FBQyx1SkFBeUI7QUFDM0QsbURBQWtELEVBQUUscUNBQXFDLCtDQUErQyxFQUFDO0FBQ3pJLDhCQUE4QixtQkFBTyxDQUFDLCtKQUE2QjtBQUNuRSx1REFBc0QsRUFBRSxxQ0FBcUMsdURBQXVELEVBQUM7QUFDckosaUJBQWlCLG1CQUFPLENBQUMscUlBQWdCO0FBQ3pDLDRDQUEyQyxFQUFFLHFDQUFxQywrQkFBK0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2thdGhvbi1uZWFyLXJlZGFjdGVkLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BuZWFyLWpzK3Byb3ZpZGVyc0AxLjAuMS9ub2RlX21vZHVsZXMvQG5lYXItanMvcHJvdmlkZXJzL2xpYi9jb21tb25qcy9pbmRleC5janM/ZTdjZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUHJvdmlkZXIgPSBleHBvcnRzLkZhaWxvdmVyUnBjUHJvdmlkZXIgPSBleHBvcnRzLkpzb25ScGNQcm92aWRlciA9IGV4cG9ydHMuZXhwb25lbnRpYWxCYWNrb2ZmID0gdm9pZCAwO1xudmFyIGV4cG9uZW50aWFsX2JhY2tvZmZfMSA9IHJlcXVpcmUoXCIuL2V4cG9uZW50aWFsLWJhY2tvZmYuY2pzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZXhwb25lbnRpYWxCYWNrb2ZmXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHBvbmVudGlhbF9iYWNrb2ZmXzEuZXhwb25lbnRpYWxCYWNrb2ZmOyB9IH0pO1xudmFyIGpzb25fcnBjX3Byb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9qc29uLXJwYy1wcm92aWRlci5janNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJKc29uUnBjUHJvdmlkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGpzb25fcnBjX3Byb3ZpZGVyXzEuSnNvblJwY1Byb3ZpZGVyOyB9IH0pO1xudmFyIGZhaWxvdmVyX3JwY19wcm92aWRlcl8xID0gcmVxdWlyZShcIi4vZmFpbG92ZXItcnBjLXByb3ZpZGVyLmNqc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkZhaWxvdmVyUnBjUHJvdmlkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhaWxvdmVyX3JwY19wcm92aWRlcl8xLkZhaWxvdmVyUnBjUHJvdmlkZXI7IH0gfSk7XG52YXIgcHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL3Byb3ZpZGVyLmNqc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlByb3ZpZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm92aWRlcl8xLlByb3ZpZGVyOyB9IH0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/index.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/json-rpc-provider.cjs":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/json-rpc-provider.cjs ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.JsonRpcProvider = void 0;\n/**\n * @module\n * @description\n * This module contains the {@link JsonRpcProvider} client class\n * which can be used to interact with the [NEAR RPC API](https://docs.near.org/api/rpc/introduction).\n * @see {@link \"@near-js/types\".provider | provider} for a list of request and response types\n */\nconst utils_1 = __webpack_require__(/*! @near-js/utils */ \"(ssr)/./node_modules/.pnpm/@near-js+utils@1.0.1/node_modules/@near-js/utils/lib/commonjs/index.cjs\");\nconst types_1 = __webpack_require__(/*! @near-js/types */ \"(ssr)/./node_modules/.pnpm/@near-js+types@0.3.1/node_modules/@near-js/types/lib/commonjs/index.cjs\");\nconst transactions_1 = __webpack_require__(/*! @near-js/transactions */ \"(ssr)/./node_modules/.pnpm/@near-js+transactions@1.3.1/node_modules/@near-js/transactions/lib/commonjs/index.cjs\");\nconst exponential_backoff_1 = __webpack_require__(/*! ./exponential-backoff.cjs */ \"(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/exponential-backoff.cjs\");\nconst provider_1 = __webpack_require__(/*! ./provider.cjs */ \"(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/provider.cjs\");\nconst fetch_json_1 = __webpack_require__(/*! ./fetch_json.cjs */ \"(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/fetch_json.cjs\");\n/** @hidden */\n// Default number of retries before giving up on a request.\nconst REQUEST_RETRY_NUMBER = 12;\n// Default wait until next retry in millis.\nconst REQUEST_RETRY_WAIT = 500;\n// Exponential back off for waiting to retry.\nconst REQUEST_RETRY_WAIT_BACKOFF = 1.5;\n/// Keep ids unique across all connections.\nlet _nextId = 123;\n/**\n * Client class to interact with the [NEAR RPC API](https://docs.near.org/api/rpc/introduction).\n * @see [https://github.com/near/nearcore/tree/master/chain/jsonrpc](https://github.com/near/nearcore/tree/master/chain/jsonrpc)\n */\nclass JsonRpcProvider extends provider_1.Provider {\n    /** @hidden */\n    connection;\n    /** @hidden */\n    options;\n    /**\n     * @param connectionInfo Connection info\n     */\n    constructor(connectionInfo, options) {\n        super();\n        this.connection = connectionInfo || { url: '' };\n        const defaultOptions = {\n            retries: REQUEST_RETRY_NUMBER,\n            wait: REQUEST_RETRY_WAIT,\n            backoff: REQUEST_RETRY_WAIT_BACKOFF\n        };\n        this.options = Object.assign({}, defaultOptions, options);\n    }\n    /**\n     * Gets the RPC's status\n     * @see [https://docs.near.org/docs/develop/front-end/rpc#general-validator-status](https://docs.near.org/docs/develop/front-end/rpc#general-validator-status)\n     */\n    async status() {\n        return this.sendJsonRpc('status', []);\n    }\n    /**\n     * Sends a signed transaction to the RPC\n     *\n     * @param signedTransaction The signed transaction being sent\n     * @param waitUntil\n     */\n    async sendTransactionUntil(signedTransaction, waitUntil) {\n        const bytes = (0, transactions_1.encodeTransaction)(signedTransaction);\n        return this.sendJsonRpc('send_tx', { signed_tx_base64: Buffer.from(bytes).toString('base64'), wait_until: waitUntil });\n    }\n    /**\n     * Sends a signed transaction to the RPC and waits until transaction is fully complete\n     * @see [https://docs.near.org/docs/develop/front-end/rpc#send-transaction-await](https://docs.near.org/docs/develop/front-end/rpc#general-validator-status)\n     *\n     * @param signedTransaction The signed transaction being sent\n     */\n    async sendTransaction(signedTransaction) {\n        return this.sendTransactionUntil(signedTransaction, 'EXECUTED_OPTIMISTIC');\n    }\n    /**\n     * Sends a signed transaction to the RPC and immediately returns transaction hash\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#send-transaction-async)\n     * @param signedTransaction The signed transaction being sent\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    async sendTransactionAsync(signedTransaction) {\n        return this.sendTransactionUntil(signedTransaction, 'NONE');\n    }\n    /**\n     * Gets a transaction's status from the RPC\n     * @see [https://docs.near.org/docs/develop/front-end/rpc#transaction-status](https://docs.near.org/docs/develop/front-end/rpc#general-validator-status)\n     *\n     * @param txHash A transaction hash as either a Uint8Array or a base58 encoded string\n     * @param accountId The NEAR account that signed the transaction\n     * @param waitUntil\n     */\n    async txStatus(txHash, accountId, waitUntil = 'EXECUTED_OPTIMISTIC') {\n        if (typeof txHash === 'string') {\n            return this.txStatusString(txHash, accountId, waitUntil);\n        }\n        else {\n            return this.txStatusUint8Array(txHash, accountId, waitUntil);\n        }\n    }\n    async txStatusUint8Array(txHash, accountId, waitUntil) {\n        return this.sendJsonRpc('tx', { tx_hash: (0, utils_1.baseEncode)(txHash), sender_account_id: accountId, wait_until: waitUntil });\n    }\n    async txStatusString(txHash, accountId, waitUntil) {\n        return this.sendJsonRpc('tx', { tx_hash: txHash, sender_account_id: accountId, wait_until: waitUntil });\n    }\n    /**\n     * Gets a transaction's status from the RPC with receipts\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#transaction-status-with-receipts)\n     * @param txHash The hash of the transaction\n     * @param accountId The NEAR account that signed the transaction\n     * @param waitUntil\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    async txStatusReceipts(txHash, accountId, waitUntil = 'EXECUTED_OPTIMISTIC') {\n        if (typeof txHash === 'string') {\n            return this.sendJsonRpc('EXPERIMENTAL_tx_status', { tx_hash: txHash, sender_account_id: accountId, wait_until: waitUntil });\n        }\n        else {\n            return this.sendJsonRpc('EXPERIMENTAL_tx_status', { tx_hash: (0, utils_1.baseEncode)(txHash), sender_account_id: accountId, wait_until: waitUntil });\n        }\n    }\n    /**\n     * Query the RPC by passing an {@link \"@near-js/types\".provider/request.RpcQueryRequest | RpcQueryRequest }\n     * @see [https://docs.near.org/api/rpc/contracts](https://docs.near.org/api/rpc/contracts)\n     *\n     * @typeParam T the shape of the returned query response\n     */\n    async query(...args) {\n        let result;\n        if (args.length === 1) {\n            const { block_id, blockId, ...otherParams } = args[0];\n            result = await this.sendJsonRpc('query', { ...otherParams, block_id: block_id || blockId });\n        }\n        else {\n            const [path, data] = args;\n            result = await this.sendJsonRpc('query', [path, data]);\n        }\n        if (result && result.error) {\n            throw new types_1.TypedError(`Querying failed: ${result.error}.\\n${JSON.stringify(result, null, 2)}`, (0, utils_1.getErrorTypeFromErrorMessage)(result.error, result.error.name));\n        }\n        return result;\n    }\n    /**\n     * Query for block info from the RPC\n     * pass block_id OR finality as blockQuery, not both\n     * @see [https://docs.near.org/api/rpc/block-chunk](https://docs.near.org/api/rpc/block-chunk)\n     *\n     * @param blockQuery {@link BlockReference} (passing a {@link BlockId} is deprecated)\n     */\n    async block(blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('block', { block_id: blockId, finality });\n    }\n    /**\n     * Query changes in block from the RPC\n     * pass block_id OR finality as blockQuery, not both\n     * @see [https://docs.near.org/api/rpc/block-chunk](https://docs.near.org/api/rpc/block-chunk)\n     */\n    async blockChanges(blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes_in_block', { block_id: blockId, finality });\n    }\n    /**\n     * Queries for details about a specific chunk appending details of receipts and transactions to the same chunk data provided by a block\n     * @see [https://docs.near.org/api/rpc/block-chunk](https://docs.near.org/api/rpc/block-chunk)\n     *\n     * @param chunkId Hash of a chunk ID or shard ID\n     */\n    async chunk(chunkId) {\n        return this.sendJsonRpc('chunk', [chunkId]);\n    }\n    /**\n     * Query validators of the epoch defined by the given block id.\n     * @see [https://docs.near.org/api/rpc/network#validation-status](https://docs.near.org/api/rpc/network#validation-status)\n     *\n     * @param blockId Block hash or height, or null for latest.\n     */\n    async validators(blockId) {\n        return this.sendJsonRpc('validators', [blockId]);\n    }\n    /**\n     * Gets the protocol config at a block from RPC\n     *\n     * @param blockReference specifies the block to get the protocol config for\n     */\n    async experimental_protocolConfig(blockReference) {\n        const { blockId, ...otherParams } = blockReference;\n        return await this.sendJsonRpc('EXPERIMENTAL_protocol_config', { ...otherParams, block_id: blockId });\n    }\n    /**\n     * Gets a light client execution proof for verifying execution outcomes\n     * @see [https://github.com/nearprotocol/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-proof](https://github.com/nearprotocol/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-proof)\n     */\n    async lightClientProof(request) {\n        return await this.sendJsonRpc('EXPERIMENTAL_light_client_proof', request);\n    }\n    /**\n     * Returns the next light client block as far in the future as possible from the last known hash\n     * to still be able to validate from that hash. This will either return the last block of the\n     * next epoch, or the last final known block.\n     *\n     * @see [https://github.com/near/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-block](https://github.com/near/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-block)\n     */\n    async nextLightClientBlock(request) {\n        return await this.sendJsonRpc('next_light_client_block', request);\n    }\n    /**\n     * Gets access key changes for a given array of accountIds\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-access-key-changes-all)\n     * @returns {Promise<ChangeResult>}\n     */\n    async accessKeyChanges(accountIdArray, blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'all_access_key_changes',\n            account_ids: accountIdArray,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Gets single access key changes for a given array of access keys\n     * pass block_id OR finality as blockQuery, not both\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-access-key-changes-single)\n     * @returns {Promise<ChangeResult>}\n     */\n    async singleAccessKeyChanges(accessKeyArray, blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'single_access_key_changes',\n            keys: accessKeyArray,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Gets account changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-account-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    async accountChanges(accountIdArray, blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'account_changes',\n            account_ids: accountIdArray,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Gets contract state changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * Note: If you pass a keyPrefix it must be base64 encoded\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-contract-state-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    async contractStateChanges(accountIdArray, blockQuery, keyPrefix = '') {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'data_changes',\n            account_ids: accountIdArray,\n            key_prefix_base64: keyPrefix,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Gets contract code changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * Note: Change is returned in a base64 encoded WASM file\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-contract-code-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    async contractCodeChanges(accountIdArray, blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'contract_code_changes',\n            account_ids: accountIdArray,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Returns gas price for a specific block_height or block_hash.\n     * @see [https://docs.near.org/api/rpc/gas](https://docs.near.org/api/rpc/gas)\n     *\n     * @param blockId Block hash or height, or null for latest.\n     */\n    async gasPrice(blockId) {\n        return await this.sendJsonRpc('gas_price', [blockId]);\n    }\n    /**\n     * Directly call the RPC specifying the method and params\n     *\n     * @param method RPC method\n     * @param params Parameters to the method\n     */\n    async sendJsonRpc(method, params) {\n        const response = await (0, exponential_backoff_1.exponentialBackoff)(this.options.wait, this.options.retries, this.options.backoff, async () => {\n            try {\n                const request = {\n                    method,\n                    params,\n                    id: (_nextId++),\n                    jsonrpc: '2.0'\n                };\n                const response = await (0, fetch_json_1.fetchJsonRpc)(this.connection.url, request, this.connection.headers);\n                if (response.error) {\n                    if (typeof response.error.data === 'object') {\n                        if (typeof response.error.data.error_message === 'string' && typeof response.error.data.error_type === 'string') {\n                            // if error data has error_message and error_type properties, we consider that node returned an error in the old format\n                            throw new types_1.TypedError(response.error.data.error_message, response.error.data.error_type);\n                        }\n                        throw (0, utils_1.parseRpcError)(response.error.data);\n                    }\n                    else {\n                        const errorMessage = `[${response.error.code}] ${response.error.message}: ${response.error.data}`;\n                        // NOTE: All this hackery is happening because structured errors not implemented\n                        // TODO: Fix when https://github.com/nearprotocol/nearcore/issues/1839 gets resolved\n                        if (response.error.data === 'Timeout' || errorMessage.includes('Timeout error')\n                            || errorMessage.includes('query has timed out')) {\n                            throw new types_1.TypedError(errorMessage, 'TimeoutError');\n                        }\n                        const errorType = (0, utils_1.getErrorTypeFromErrorMessage)(response.error.data, '');\n                        if (errorType) {\n                            throw new types_1.TypedError((0, utils_1.formatError)(errorType, params), errorType);\n                        }\n                        throw new types_1.TypedError(errorMessage, response.error.name);\n                    }\n                }\n                else if (typeof response.result?.error === 'string') {\n                    const errorType = (0, utils_1.getErrorTypeFromErrorMessage)(response.result.error, '');\n                    if (errorType) {\n                        throw new utils_1.ServerError((0, utils_1.formatError)(errorType, params), errorType);\n                    }\n                }\n                // Success when response.error is not exist\n                return response;\n            }\n            catch (error) {\n                if (error.type === 'TimeoutError') {\n                    utils_1.Logger.warn(`Retrying request to ${method} as it has timed out`, params);\n                    return null;\n                }\n                throw error;\n            }\n        });\n        const { result } = response;\n        // From jsonrpc spec:\n        // result\n        //   This member is REQUIRED on success.\n        //   This member MUST NOT exist if there was an error invoking the method.\n        if (typeof result === 'undefined') {\n            throw new types_1.TypedError(`Exceeded ${this.options.retries} attempts for request to ${method}.`, 'RetriesExceeded');\n        }\n        return result;\n    }\n}\nexports.JsonRpcProvider = JsonRpcProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG5lYXItanMrcHJvdmlkZXJzQDEuMC4xL25vZGVfbW9kdWxlcy9AbmVhci1qcy9wcm92aWRlcnMvbGliL2NvbW1vbmpzL2pzb24tcnBjLXByb3ZpZGVyLmNqcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHVCQUF1QjtBQUNwRDtBQUNBLFNBQVMsNENBQTRDO0FBQ3JEO0FBQ0EsZ0JBQWdCLG1CQUFPLENBQUMsMEhBQWdCO0FBQ3hDLGdCQUFnQixtQkFBTyxDQUFDLDBIQUFnQjtBQUN4Qyx1QkFBdUIsbUJBQU8sQ0FBQywrSUFBdUI7QUFDdEQsOEJBQThCLG1CQUFPLENBQUMsMkpBQTJCO0FBQ2pFLG1CQUFtQixtQkFBTyxDQUFDLHFJQUFnQjtBQUMzQyxxQkFBcUIsbUJBQU8sQ0FBQyx5SUFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGdGQUFnRjtBQUM3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QywrRkFBK0Y7QUFDdkk7QUFDQTtBQUNBLHdDQUF3QyxzRUFBc0U7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLHNFQUFzRTtBQUN0STtBQUNBO0FBQ0EsZ0VBQWdFLCtGQUErRjtBQUMvSjtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0NBQW9DO0FBQ3hELHVEQUF1RCwrQ0FBK0M7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGFBQWEsS0FBSyxnQ0FBZ0M7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixzQkFBc0IsWUFBWSxlQUFlO0FBQzNFO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQixnQkFBZ0IsVUFBVTtBQUMxQiwyQ0FBMkMsNkJBQTZCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0IsZ0JBQWdCLFVBQVU7QUFDMUIsbUVBQW1FLDZCQUE2QjtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwQkFBMEI7QUFDMUMsd0VBQXdFLG1DQUFtQztBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGdCQUFnQixXQUFXO0FBQzNCLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0IsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQixnQkFBZ0IsVUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0IsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0IsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG9CQUFvQixJQUFJLHVCQUF1QixJQUFJLG9CQUFvQjtBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsUUFBUTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHNCQUFzQiwwQkFBMEIsT0FBTztBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2thdGhvbi1uZWFyLXJlZGFjdGVkLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BuZWFyLWpzK3Byb3ZpZGVyc0AxLjAuMS9ub2RlX21vZHVsZXMvQG5lYXItanMvcHJvdmlkZXJzL2xpYi9jb21tb25qcy9qc29uLXJwYy1wcm92aWRlci5janM/ZWZiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSnNvblJwY1Byb3ZpZGVyID0gdm9pZCAwO1xuLyoqXG4gKiBAbW9kdWxlXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgbW9kdWxlIGNvbnRhaW5zIHRoZSB7QGxpbmsgSnNvblJwY1Byb3ZpZGVyfSBjbGllbnQgY2xhc3NcbiAqIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGludGVyYWN0IHdpdGggdGhlIFtORUFSIFJQQyBBUEldKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9hcGkvcnBjL2ludHJvZHVjdGlvbikuXG4gKiBAc2VlIHtAbGluayBcIkBuZWFyLWpzL3R5cGVzXCIucHJvdmlkZXIgfCBwcm92aWRlcn0gZm9yIGEgbGlzdCBvZiByZXF1ZXN0IGFuZCByZXNwb25zZSB0eXBlc1xuICovXG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIkBuZWFyLWpzL3V0aWxzXCIpO1xuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCJAbmVhci1qcy90eXBlc1wiKTtcbmNvbnN0IHRyYW5zYWN0aW9uc18xID0gcmVxdWlyZShcIkBuZWFyLWpzL3RyYW5zYWN0aW9uc1wiKTtcbmNvbnN0IGV4cG9uZW50aWFsX2JhY2tvZmZfMSA9IHJlcXVpcmUoXCIuL2V4cG9uZW50aWFsLWJhY2tvZmYuY2pzXCIpO1xuY29uc3QgcHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL3Byb3ZpZGVyLmNqc1wiKTtcbmNvbnN0IGZldGNoX2pzb25fMSA9IHJlcXVpcmUoXCIuL2ZldGNoX2pzb24uY2pzXCIpO1xuLyoqIEBoaWRkZW4gKi9cbi8vIERlZmF1bHQgbnVtYmVyIG9mIHJldHJpZXMgYmVmb3JlIGdpdmluZyB1cCBvbiBhIHJlcXVlc3QuXG5jb25zdCBSRVFVRVNUX1JFVFJZX05VTUJFUiA9IDEyO1xuLy8gRGVmYXVsdCB3YWl0IHVudGlsIG5leHQgcmV0cnkgaW4gbWlsbGlzLlxuY29uc3QgUkVRVUVTVF9SRVRSWV9XQUlUID0gNTAwO1xuLy8gRXhwb25lbnRpYWwgYmFjayBvZmYgZm9yIHdhaXRpbmcgdG8gcmV0cnkuXG5jb25zdCBSRVFVRVNUX1JFVFJZX1dBSVRfQkFDS09GRiA9IDEuNTtcbi8vLyBLZWVwIGlkcyB1bmlxdWUgYWNyb3NzIGFsbCBjb25uZWN0aW9ucy5cbmxldCBfbmV4dElkID0gMTIzO1xuLyoqXG4gKiBDbGllbnQgY2xhc3MgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgW05FQVIgUlBDIEFQSV0oaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2FwaS9ycGMvaW50cm9kdWN0aW9uKS5cbiAqIEBzZWUgW2h0dHBzOi8vZ2l0aHViLmNvbS9uZWFyL25lYXJjb3JlL3RyZWUvbWFzdGVyL2NoYWluL2pzb25ycGNdKGh0dHBzOi8vZ2l0aHViLmNvbS9uZWFyL25lYXJjb3JlL3RyZWUvbWFzdGVyL2NoYWluL2pzb25ycGMpXG4gKi9cbmNsYXNzIEpzb25ScGNQcm92aWRlciBleHRlbmRzIHByb3ZpZGVyXzEuUHJvdmlkZXIge1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgY29ubmVjdGlvbjtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIG9wdGlvbnM7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvbm5lY3Rpb25JbmZvIENvbm5lY3Rpb24gaW5mb1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbm5lY3Rpb25JbmZvLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IGNvbm5lY3Rpb25JbmZvIHx8IHsgdXJsOiAnJyB9O1xuICAgICAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHJldHJpZXM6IFJFUVVFU1RfUkVUUllfTlVNQkVSLFxuICAgICAgICAgICAgd2FpdDogUkVRVUVTVF9SRVRSWV9XQUlULFxuICAgICAgICAgICAgYmFja29mZjogUkVRVUVTVF9SRVRSWV9XQUlUX0JBQ0tPRkZcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBSUEMncyBzdGF0dXNcbiAgICAgKiBAc2VlIFtodHRwczovL2RvY3MubmVhci5vcmcvZG9jcy9kZXZlbG9wL2Zyb250LWVuZC9ycGMjZ2VuZXJhbC12YWxpZGF0b3Itc3RhdHVzXShodHRwczovL2RvY3MubmVhci5vcmcvZG9jcy9kZXZlbG9wL2Zyb250LWVuZC9ycGMjZ2VuZXJhbC12YWxpZGF0b3Itc3RhdHVzKVxuICAgICAqL1xuICAgIGFzeW5jIHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZEpzb25ScGMoJ3N0YXR1cycsIFtdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBzaWduZWQgdHJhbnNhY3Rpb24gdG8gdGhlIFJQQ1xuICAgICAqXG4gICAgICogQHBhcmFtIHNpZ25lZFRyYW5zYWN0aW9uIFRoZSBzaWduZWQgdHJhbnNhY3Rpb24gYmVpbmcgc2VudFxuICAgICAqIEBwYXJhbSB3YWl0VW50aWxcbiAgICAgKi9cbiAgICBhc3luYyBzZW5kVHJhbnNhY3Rpb25VbnRpbChzaWduZWRUcmFuc2FjdGlvbiwgd2FpdFVudGlsKSB7XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gKDAsIHRyYW5zYWN0aW9uc18xLmVuY29kZVRyYW5zYWN0aW9uKShzaWduZWRUcmFuc2FjdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRKc29uUnBjKCdzZW5kX3R4JywgeyBzaWduZWRfdHhfYmFzZTY0OiBCdWZmZXIuZnJvbShieXRlcykudG9TdHJpbmcoJ2Jhc2U2NCcpLCB3YWl0X3VudGlsOiB3YWl0VW50aWwgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgc2lnbmVkIHRyYW5zYWN0aW9uIHRvIHRoZSBSUEMgYW5kIHdhaXRzIHVudGlsIHRyYW5zYWN0aW9uIGlzIGZ1bGx5IGNvbXBsZXRlXG4gICAgICogQHNlZSBbaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2RvY3MvZGV2ZWxvcC9mcm9udC1lbmQvcnBjI3NlbmQtdHJhbnNhY3Rpb24tYXdhaXRdKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9kb2NzL2RldmVsb3AvZnJvbnQtZW5kL3JwYyNnZW5lcmFsLXZhbGlkYXRvci1zdGF0dXMpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2lnbmVkVHJhbnNhY3Rpb24gVGhlIHNpZ25lZCB0cmFuc2FjdGlvbiBiZWluZyBzZW50XG4gICAgICovXG4gICAgYXN5bmMgc2VuZFRyYW5zYWN0aW9uKHNpZ25lZFRyYW5zYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRUcmFuc2FjdGlvblVudGlsKHNpZ25lZFRyYW5zYWN0aW9uLCAnRVhFQ1VURURfT1BUSU1JU1RJQycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHNpZ25lZCB0cmFuc2FjdGlvbiB0byB0aGUgUlBDIGFuZCBpbW1lZGlhdGVseSByZXR1cm5zIHRyYW5zYWN0aW9uIGhhc2hcbiAgICAgKiBTZWUgW2RvY3MgZm9yIG1vcmUgaW5mb10oaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2RvY3MvZGV2ZWxvcC9mcm9udC1lbmQvcnBjI3NlbmQtdHJhbnNhY3Rpb24tYXN5bmMpXG4gICAgICogQHBhcmFtIHNpZ25lZFRyYW5zYWN0aW9uIFRoZSBzaWduZWQgdHJhbnNhY3Rpb24gYmVpbmcgc2VudFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEZpbmFsRXhlY3V0aW9uT3V0Y29tZT59XG4gICAgICovXG4gICAgYXN5bmMgc2VuZFRyYW5zYWN0aW9uQXN5bmMoc2lnbmVkVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZFRyYW5zYWN0aW9uVW50aWwoc2lnbmVkVHJhbnNhY3Rpb24sICdOT05FJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYSB0cmFuc2FjdGlvbidzIHN0YXR1cyBmcm9tIHRoZSBSUENcbiAgICAgKiBAc2VlIFtodHRwczovL2RvY3MubmVhci5vcmcvZG9jcy9kZXZlbG9wL2Zyb250LWVuZC9ycGMjdHJhbnNhY3Rpb24tc3RhdHVzXShodHRwczovL2RvY3MubmVhci5vcmcvZG9jcy9kZXZlbG9wL2Zyb250LWVuZC9ycGMjZ2VuZXJhbC12YWxpZGF0b3Itc3RhdHVzKVxuICAgICAqXG4gICAgICogQHBhcmFtIHR4SGFzaCBBIHRyYW5zYWN0aW9uIGhhc2ggYXMgZWl0aGVyIGEgVWludDhBcnJheSBvciBhIGJhc2U1OCBlbmNvZGVkIHN0cmluZ1xuICAgICAqIEBwYXJhbSBhY2NvdW50SWQgVGhlIE5FQVIgYWNjb3VudCB0aGF0IHNpZ25lZCB0aGUgdHJhbnNhY3Rpb25cbiAgICAgKiBAcGFyYW0gd2FpdFVudGlsXG4gICAgICovXG4gICAgYXN5bmMgdHhTdGF0dXModHhIYXNoLCBhY2NvdW50SWQsIHdhaXRVbnRpbCA9ICdFWEVDVVRFRF9PUFRJTUlTVElDJykge1xuICAgICAgICBpZiAodHlwZW9mIHR4SGFzaCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnR4U3RhdHVzU3RyaW5nKHR4SGFzaCwgYWNjb3VudElkLCB3YWl0VW50aWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHhTdGF0dXNVaW50OEFycmF5KHR4SGFzaCwgYWNjb3VudElkLCB3YWl0VW50aWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHR4U3RhdHVzVWludDhBcnJheSh0eEhhc2gsIGFjY291bnRJZCwgd2FpdFVudGlsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRKc29uUnBjKCd0eCcsIHsgdHhfaGFzaDogKDAsIHV0aWxzXzEuYmFzZUVuY29kZSkodHhIYXNoKSwgc2VuZGVyX2FjY291bnRfaWQ6IGFjY291bnRJZCwgd2FpdF91bnRpbDogd2FpdFVudGlsIH0pO1xuICAgIH1cbiAgICBhc3luYyB0eFN0YXR1c1N0cmluZyh0eEhhc2gsIGFjY291bnRJZCwgd2FpdFVudGlsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRKc29uUnBjKCd0eCcsIHsgdHhfaGFzaDogdHhIYXNoLCBzZW5kZXJfYWNjb3VudF9pZDogYWNjb3VudElkLCB3YWl0X3VudGlsOiB3YWl0VW50aWwgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYSB0cmFuc2FjdGlvbidzIHN0YXR1cyBmcm9tIHRoZSBSUEMgd2l0aCByZWNlaXB0c1xuICAgICAqIFNlZSBbZG9jcyBmb3IgbW9yZSBpbmZvXShodHRwczovL2RvY3MubmVhci5vcmcvZG9jcy9kZXZlbG9wL2Zyb250LWVuZC9ycGMjdHJhbnNhY3Rpb24tc3RhdHVzLXdpdGgtcmVjZWlwdHMpXG4gICAgICogQHBhcmFtIHR4SGFzaCBUaGUgaGFzaCBvZiB0aGUgdHJhbnNhY3Rpb25cbiAgICAgKiBAcGFyYW0gYWNjb3VudElkIFRoZSBORUFSIGFjY291bnQgdGhhdCBzaWduZWQgdGhlIHRyYW5zYWN0aW9uXG4gICAgICogQHBhcmFtIHdhaXRVbnRpbFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEZpbmFsRXhlY3V0aW9uT3V0Y29tZT59XG4gICAgICovXG4gICAgYXN5bmMgdHhTdGF0dXNSZWNlaXB0cyh0eEhhc2gsIGFjY291bnRJZCwgd2FpdFVudGlsID0gJ0VYRUNVVEVEX09QVElNSVNUSUMnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdHhIYXNoID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZEpzb25ScGMoJ0VYUEVSSU1FTlRBTF90eF9zdGF0dXMnLCB7IHR4X2hhc2g6IHR4SGFzaCwgc2VuZGVyX2FjY291bnRfaWQ6IGFjY291bnRJZCwgd2FpdF91bnRpbDogd2FpdFVudGlsIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZEpzb25ScGMoJ0VYUEVSSU1FTlRBTF90eF9zdGF0dXMnLCB7IHR4X2hhc2g6ICgwLCB1dGlsc18xLmJhc2VFbmNvZGUpKHR4SGFzaCksIHNlbmRlcl9hY2NvdW50X2lkOiBhY2NvdW50SWQsIHdhaXRfdW50aWw6IHdhaXRVbnRpbCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWVyeSB0aGUgUlBDIGJ5IHBhc3NpbmcgYW4ge0BsaW5rIFwiQG5lYXItanMvdHlwZXNcIi5wcm92aWRlci9yZXF1ZXN0LlJwY1F1ZXJ5UmVxdWVzdCB8IFJwY1F1ZXJ5UmVxdWVzdCB9XG4gICAgICogQHNlZSBbaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2FwaS9ycGMvY29udHJhY3RzXShodHRwczovL2RvY3MubmVhci5vcmcvYXBpL3JwYy9jb250cmFjdHMpXG4gICAgICpcbiAgICAgKiBAdHlwZVBhcmFtIFQgdGhlIHNoYXBlIG9mIHRoZSByZXR1cm5lZCBxdWVyeSByZXNwb25zZVxuICAgICAqL1xuICAgIGFzeW5jIHF1ZXJ5KC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCB7IGJsb2NrX2lkLCBibG9ja0lkLCAuLi5vdGhlclBhcmFtcyB9ID0gYXJnc1swXTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMuc2VuZEpzb25ScGMoJ3F1ZXJ5JywgeyAuLi5vdGhlclBhcmFtcywgYmxvY2tfaWQ6IGJsb2NrX2lkIHx8IGJsb2NrSWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBbcGF0aCwgZGF0YV0gPSBhcmdzO1xuICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgdGhpcy5zZW5kSnNvblJwYygncXVlcnknLCBbcGF0aCwgZGF0YV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgdHlwZXNfMS5UeXBlZEVycm9yKGBRdWVyeWluZyBmYWlsZWQ6ICR7cmVzdWx0LmVycm9yfS5cXG4ke0pTT04uc3RyaW5naWZ5KHJlc3VsdCwgbnVsbCwgMil9YCwgKDAsIHV0aWxzXzEuZ2V0RXJyb3JUeXBlRnJvbUVycm9yTWVzc2FnZSkocmVzdWx0LmVycm9yLCByZXN1bHQuZXJyb3IubmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFF1ZXJ5IGZvciBibG9jayBpbmZvIGZyb20gdGhlIFJQQ1xuICAgICAqIHBhc3MgYmxvY2tfaWQgT1IgZmluYWxpdHkgYXMgYmxvY2tRdWVyeSwgbm90IGJvdGhcbiAgICAgKiBAc2VlIFtodHRwczovL2RvY3MubmVhci5vcmcvYXBpL3JwYy9ibG9jay1jaHVua10oaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2FwaS9ycGMvYmxvY2stY2h1bmspXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYmxvY2tRdWVyeSB7QGxpbmsgQmxvY2tSZWZlcmVuY2V9IChwYXNzaW5nIGEge0BsaW5rIEJsb2NrSWR9IGlzIGRlcHJlY2F0ZWQpXG4gICAgICovXG4gICAgYXN5bmMgYmxvY2soYmxvY2tRdWVyeSkge1xuICAgICAgICBjb25zdCB7IGZpbmFsaXR5IH0gPSBibG9ja1F1ZXJ5O1xuICAgICAgICBjb25zdCB7IGJsb2NrSWQgfSA9IGJsb2NrUXVlcnk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRKc29uUnBjKCdibG9jaycsIHsgYmxvY2tfaWQ6IGJsb2NrSWQsIGZpbmFsaXR5IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWVyeSBjaGFuZ2VzIGluIGJsb2NrIGZyb20gdGhlIFJQQ1xuICAgICAqIHBhc3MgYmxvY2tfaWQgT1IgZmluYWxpdHkgYXMgYmxvY2tRdWVyeSwgbm90IGJvdGhcbiAgICAgKiBAc2VlIFtodHRwczovL2RvY3MubmVhci5vcmcvYXBpL3JwYy9ibG9jay1jaHVua10oaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2FwaS9ycGMvYmxvY2stY2h1bmspXG4gICAgICovXG4gICAgYXN5bmMgYmxvY2tDaGFuZ2VzKGJsb2NrUXVlcnkpIHtcbiAgICAgICAgY29uc3QgeyBmaW5hbGl0eSB9ID0gYmxvY2tRdWVyeTtcbiAgICAgICAgY29uc3QgeyBibG9ja0lkIH0gPSBibG9ja1F1ZXJ5O1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kSnNvblJwYygnRVhQRVJJTUVOVEFMX2NoYW5nZXNfaW5fYmxvY2snLCB7IGJsb2NrX2lkOiBibG9ja0lkLCBmaW5hbGl0eSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUXVlcmllcyBmb3IgZGV0YWlscyBhYm91dCBhIHNwZWNpZmljIGNodW5rIGFwcGVuZGluZyBkZXRhaWxzIG9mIHJlY2VpcHRzIGFuZCB0cmFuc2FjdGlvbnMgdG8gdGhlIHNhbWUgY2h1bmsgZGF0YSBwcm92aWRlZCBieSBhIGJsb2NrXG4gICAgICogQHNlZSBbaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2FwaS9ycGMvYmxvY2stY2h1bmtdKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9hcGkvcnBjL2Jsb2NrLWNodW5rKVxuICAgICAqXG4gICAgICogQHBhcmFtIGNodW5rSWQgSGFzaCBvZiBhIGNodW5rIElEIG9yIHNoYXJkIElEXG4gICAgICovXG4gICAgYXN5bmMgY2h1bmsoY2h1bmtJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kSnNvblJwYygnY2h1bmsnLCBbY2h1bmtJZF0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWVyeSB2YWxpZGF0b3JzIG9mIHRoZSBlcG9jaCBkZWZpbmVkIGJ5IHRoZSBnaXZlbiBibG9jayBpZC5cbiAgICAgKiBAc2VlIFtodHRwczovL2RvY3MubmVhci5vcmcvYXBpL3JwYy9uZXR3b3JrI3ZhbGlkYXRpb24tc3RhdHVzXShodHRwczovL2RvY3MubmVhci5vcmcvYXBpL3JwYy9uZXR3b3JrI3ZhbGlkYXRpb24tc3RhdHVzKVxuICAgICAqXG4gICAgICogQHBhcmFtIGJsb2NrSWQgQmxvY2sgaGFzaCBvciBoZWlnaHQsIG9yIG51bGwgZm9yIGxhdGVzdC5cbiAgICAgKi9cbiAgICBhc3luYyB2YWxpZGF0b3JzKGJsb2NrSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZEpzb25ScGMoJ3ZhbGlkYXRvcnMnLCBbYmxvY2tJZF0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwcm90b2NvbCBjb25maWcgYXQgYSBibG9jayBmcm9tIFJQQ1xuICAgICAqXG4gICAgICogQHBhcmFtIGJsb2NrUmVmZXJlbmNlIHNwZWNpZmllcyB0aGUgYmxvY2sgdG8gZ2V0IHRoZSBwcm90b2NvbCBjb25maWcgZm9yXG4gICAgICovXG4gICAgYXN5bmMgZXhwZXJpbWVudGFsX3Byb3RvY29sQ29uZmlnKGJsb2NrUmVmZXJlbmNlKSB7XG4gICAgICAgIGNvbnN0IHsgYmxvY2tJZCwgLi4ub3RoZXJQYXJhbXMgfSA9IGJsb2NrUmVmZXJlbmNlO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5zZW5kSnNvblJwYygnRVhQRVJJTUVOVEFMX3Byb3RvY29sX2NvbmZpZycsIHsgLi4ub3RoZXJQYXJhbXMsIGJsb2NrX2lkOiBibG9ja0lkIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbGlnaHQgY2xpZW50IGV4ZWN1dGlvbiBwcm9vZiBmb3IgdmVyaWZ5aW5nIGV4ZWN1dGlvbiBvdXRjb21lc1xuICAgICAqIEBzZWUgW2h0dHBzOi8vZ2l0aHViLmNvbS9uZWFycHJvdG9jb2wvTkVQcy9ibG9iL21hc3Rlci9zcGVjcy9DaGFpblNwZWMvTGlnaHRDbGllbnQubWQjbGlnaHQtY2xpZW50LXByb29mXShodHRwczovL2dpdGh1Yi5jb20vbmVhcnByb3RvY29sL05FUHMvYmxvYi9tYXN0ZXIvc3BlY3MvQ2hhaW5TcGVjL0xpZ2h0Q2xpZW50Lm1kI2xpZ2h0LWNsaWVudC1wcm9vZilcbiAgICAgKi9cbiAgICBhc3luYyBsaWdodENsaWVudFByb29mKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VuZEpzb25ScGMoJ0VYUEVSSU1FTlRBTF9saWdodF9jbGllbnRfcHJvb2YnLCByZXF1ZXN0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmV4dCBsaWdodCBjbGllbnQgYmxvY2sgYXMgZmFyIGluIHRoZSBmdXR1cmUgYXMgcG9zc2libGUgZnJvbSB0aGUgbGFzdCBrbm93biBoYXNoXG4gICAgICogdG8gc3RpbGwgYmUgYWJsZSB0byB2YWxpZGF0ZSBmcm9tIHRoYXQgaGFzaC4gVGhpcyB3aWxsIGVpdGhlciByZXR1cm4gdGhlIGxhc3QgYmxvY2sgb2YgdGhlXG4gICAgICogbmV4dCBlcG9jaCwgb3IgdGhlIGxhc3QgZmluYWwga25vd24gYmxvY2suXG4gICAgICpcbiAgICAgKiBAc2VlIFtodHRwczovL2dpdGh1Yi5jb20vbmVhci9ORVBzL2Jsb2IvbWFzdGVyL3NwZWNzL0NoYWluU3BlYy9MaWdodENsaWVudC5tZCNsaWdodC1jbGllbnQtYmxvY2tdKGh0dHBzOi8vZ2l0aHViLmNvbS9uZWFyL05FUHMvYmxvYi9tYXN0ZXIvc3BlY3MvQ2hhaW5TcGVjL0xpZ2h0Q2xpZW50Lm1kI2xpZ2h0LWNsaWVudC1ibG9jaylcbiAgICAgKi9cbiAgICBhc3luYyBuZXh0TGlnaHRDbGllbnRCbG9jayhyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNlbmRKc29uUnBjKCduZXh0X2xpZ2h0X2NsaWVudF9ibG9jaycsIHJlcXVlc3QpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFjY2VzcyBrZXkgY2hhbmdlcyBmb3IgYSBnaXZlbiBhcnJheSBvZiBhY2NvdW50SWRzXG4gICAgICogU2VlIFtkb2NzIGZvciBtb3JlIGluZm9dKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9kb2NzL2RldmVsb3AvZnJvbnQtZW5kL3JwYyN2aWV3LWFjY2Vzcy1rZXktY2hhbmdlcy1hbGwpXG4gICAgICogQHJldHVybnMge1Byb21pc2U8Q2hhbmdlUmVzdWx0Pn1cbiAgICAgKi9cbiAgICBhc3luYyBhY2Nlc3NLZXlDaGFuZ2VzKGFjY291bnRJZEFycmF5LCBibG9ja1F1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IHsgZmluYWxpdHkgfSA9IGJsb2NrUXVlcnk7XG4gICAgICAgIGNvbnN0IHsgYmxvY2tJZCB9ID0gYmxvY2tRdWVyeTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZEpzb25ScGMoJ0VYUEVSSU1FTlRBTF9jaGFuZ2VzJywge1xuICAgICAgICAgICAgY2hhbmdlc190eXBlOiAnYWxsX2FjY2Vzc19rZXlfY2hhbmdlcycsXG4gICAgICAgICAgICBhY2NvdW50X2lkczogYWNjb3VudElkQXJyYXksXG4gICAgICAgICAgICBibG9ja19pZDogYmxvY2tJZCxcbiAgICAgICAgICAgIGZpbmFsaXR5XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHNpbmdsZSBhY2Nlc3Mga2V5IGNoYW5nZXMgZm9yIGEgZ2l2ZW4gYXJyYXkgb2YgYWNjZXNzIGtleXNcbiAgICAgKiBwYXNzIGJsb2NrX2lkIE9SIGZpbmFsaXR5IGFzIGJsb2NrUXVlcnksIG5vdCBib3RoXG4gICAgICogU2VlIFtkb2NzIGZvciBtb3JlIGluZm9dKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9kb2NzL2RldmVsb3AvZnJvbnQtZW5kL3JwYyN2aWV3LWFjY2Vzcy1rZXktY2hhbmdlcy1zaW5nbGUpXG4gICAgICogQHJldHVybnMge1Byb21pc2U8Q2hhbmdlUmVzdWx0Pn1cbiAgICAgKi9cbiAgICBhc3luYyBzaW5nbGVBY2Nlc3NLZXlDaGFuZ2VzKGFjY2Vzc0tleUFycmF5LCBibG9ja1F1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IHsgZmluYWxpdHkgfSA9IGJsb2NrUXVlcnk7XG4gICAgICAgIGNvbnN0IHsgYmxvY2tJZCB9ID0gYmxvY2tRdWVyeTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZEpzb25ScGMoJ0VYUEVSSU1FTlRBTF9jaGFuZ2VzJywge1xuICAgICAgICAgICAgY2hhbmdlc190eXBlOiAnc2luZ2xlX2FjY2Vzc19rZXlfY2hhbmdlcycsXG4gICAgICAgICAgICBrZXlzOiBhY2Nlc3NLZXlBcnJheSxcbiAgICAgICAgICAgIGJsb2NrX2lkOiBibG9ja0lkLFxuICAgICAgICAgICAgZmluYWxpdHlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWNjb3VudCBjaGFuZ2VzIGZvciBhIGdpdmVuIGFycmF5IG9mIGFjY291bnRJZHNcbiAgICAgKiBwYXNzIGJsb2NrX2lkIE9SIGZpbmFsaXR5IGFzIGJsb2NrUXVlcnksIG5vdCBib3RoXG4gICAgICogU2VlIFtkb2NzIGZvciBtb3JlIGluZm9dKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9kb2NzL2RldmVsb3AvZnJvbnQtZW5kL3JwYyN2aWV3LWFjY291bnQtY2hhbmdlcylcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxDaGFuZ2VSZXN1bHQ+fVxuICAgICAqL1xuICAgIGFzeW5jIGFjY291bnRDaGFuZ2VzKGFjY291bnRJZEFycmF5LCBibG9ja1F1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IHsgZmluYWxpdHkgfSA9IGJsb2NrUXVlcnk7XG4gICAgICAgIGNvbnN0IHsgYmxvY2tJZCB9ID0gYmxvY2tRdWVyeTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZEpzb25ScGMoJ0VYUEVSSU1FTlRBTF9jaGFuZ2VzJywge1xuICAgICAgICAgICAgY2hhbmdlc190eXBlOiAnYWNjb3VudF9jaGFuZ2VzJyxcbiAgICAgICAgICAgIGFjY291bnRfaWRzOiBhY2NvdW50SWRBcnJheSxcbiAgICAgICAgICAgIGJsb2NrX2lkOiBibG9ja0lkLFxuICAgICAgICAgICAgZmluYWxpdHlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgY29udHJhY3Qgc3RhdGUgY2hhbmdlcyBmb3IgYSBnaXZlbiBhcnJheSBvZiBhY2NvdW50SWRzXG4gICAgICogcGFzcyBibG9ja19pZCBPUiBmaW5hbGl0eSBhcyBibG9ja1F1ZXJ5LCBub3QgYm90aFxuICAgICAqIE5vdGU6IElmIHlvdSBwYXNzIGEga2V5UHJlZml4IGl0IG11c3QgYmUgYmFzZTY0IGVuY29kZWRcbiAgICAgKiBTZWUgW2RvY3MgZm9yIG1vcmUgaW5mb10oaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2RvY3MvZGV2ZWxvcC9mcm9udC1lbmQvcnBjI3ZpZXctY29udHJhY3Qtc3RhdGUtY2hhbmdlcylcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxDaGFuZ2VSZXN1bHQ+fVxuICAgICAqL1xuICAgIGFzeW5jIGNvbnRyYWN0U3RhdGVDaGFuZ2VzKGFjY291bnRJZEFycmF5LCBibG9ja1F1ZXJ5LCBrZXlQcmVmaXggPSAnJykge1xuICAgICAgICBjb25zdCB7IGZpbmFsaXR5IH0gPSBibG9ja1F1ZXJ5O1xuICAgICAgICBjb25zdCB7IGJsb2NrSWQgfSA9IGJsb2NrUXVlcnk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRKc29uUnBjKCdFWFBFUklNRU5UQUxfY2hhbmdlcycsIHtcbiAgICAgICAgICAgIGNoYW5nZXNfdHlwZTogJ2RhdGFfY2hhbmdlcycsXG4gICAgICAgICAgICBhY2NvdW50X2lkczogYWNjb3VudElkQXJyYXksXG4gICAgICAgICAgICBrZXlfcHJlZml4X2Jhc2U2NDoga2V5UHJlZml4LFxuICAgICAgICAgICAgYmxvY2tfaWQ6IGJsb2NrSWQsXG4gICAgICAgICAgICBmaW5hbGl0eVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBjb250cmFjdCBjb2RlIGNoYW5nZXMgZm9yIGEgZ2l2ZW4gYXJyYXkgb2YgYWNjb3VudElkc1xuICAgICAqIHBhc3MgYmxvY2tfaWQgT1IgZmluYWxpdHkgYXMgYmxvY2tRdWVyeSwgbm90IGJvdGhcbiAgICAgKiBOb3RlOiBDaGFuZ2UgaXMgcmV0dXJuZWQgaW4gYSBiYXNlNjQgZW5jb2RlZCBXQVNNIGZpbGVcbiAgICAgKiBTZWUgW2RvY3MgZm9yIG1vcmUgaW5mb10oaHR0cHM6Ly9kb2NzLm5lYXIub3JnL2RvY3MvZGV2ZWxvcC9mcm9udC1lbmQvcnBjI3ZpZXctY29udHJhY3QtY29kZS1jaGFuZ2VzKVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPENoYW5nZVJlc3VsdD59XG4gICAgICovXG4gICAgYXN5bmMgY29udHJhY3RDb2RlQ2hhbmdlcyhhY2NvdW50SWRBcnJheSwgYmxvY2tRdWVyeSkge1xuICAgICAgICBjb25zdCB7IGZpbmFsaXR5IH0gPSBibG9ja1F1ZXJ5O1xuICAgICAgICBjb25zdCB7IGJsb2NrSWQgfSA9IGJsb2NrUXVlcnk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRKc29uUnBjKCdFWFBFUklNRU5UQUxfY2hhbmdlcycsIHtcbiAgICAgICAgICAgIGNoYW5nZXNfdHlwZTogJ2NvbnRyYWN0X2NvZGVfY2hhbmdlcycsXG4gICAgICAgICAgICBhY2NvdW50X2lkczogYWNjb3VudElkQXJyYXksXG4gICAgICAgICAgICBibG9ja19pZDogYmxvY2tJZCxcbiAgICAgICAgICAgIGZpbmFsaXR5XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGdhcyBwcmljZSBmb3IgYSBzcGVjaWZpYyBibG9ja19oZWlnaHQgb3IgYmxvY2tfaGFzaC5cbiAgICAgKiBAc2VlIFtodHRwczovL2RvY3MubmVhci5vcmcvYXBpL3JwYy9nYXNdKGh0dHBzOi8vZG9jcy5uZWFyLm9yZy9hcGkvcnBjL2dhcylcbiAgICAgKlxuICAgICAqIEBwYXJhbSBibG9ja0lkIEJsb2NrIGhhc2ggb3IgaGVpZ2h0LCBvciBudWxsIGZvciBsYXRlc3QuXG4gICAgICovXG4gICAgYXN5bmMgZ2FzUHJpY2UoYmxvY2tJZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5zZW5kSnNvblJwYygnZ2FzX3ByaWNlJywgW2Jsb2NrSWRdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlyZWN0bHkgY2FsbCB0aGUgUlBDIHNwZWNpZnlpbmcgdGhlIG1ldGhvZCBhbmQgcGFyYW1zXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWV0aG9kIFJQQyBtZXRob2RcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFBhcmFtZXRlcnMgdG8gdGhlIG1ldGhvZFxuICAgICAqL1xuICAgIGFzeW5jIHNlbmRKc29uUnBjKG1ldGhvZCwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgKDAsIGV4cG9uZW50aWFsX2JhY2tvZmZfMS5leHBvbmVudGlhbEJhY2tvZmYpKHRoaXMub3B0aW9ucy53YWl0LCB0aGlzLm9wdGlvbnMucmV0cmllcywgdGhpcy5vcHRpb25zLmJhY2tvZmYsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAoX25leHRJZCsrKSxcbiAgICAgICAgICAgICAgICAgICAganNvbnJwYzogJzIuMCdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgKDAsIGZldGNoX2pzb25fMS5mZXRjaEpzb25ScGMpKHRoaXMuY29ubmVjdGlvbi51cmwsIHJlcXVlc3QsIHRoaXMuY29ubmVjdGlvbi5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS5lcnJvci5kYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS5lcnJvci5kYXRhLmVycm9yX21lc3NhZ2UgPT09ICdzdHJpbmcnICYmIHR5cGVvZiByZXNwb25zZS5lcnJvci5kYXRhLmVycm9yX3R5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgZXJyb3IgZGF0YSBoYXMgZXJyb3JfbWVzc2FnZSBhbmQgZXJyb3JfdHlwZSBwcm9wZXJ0aWVzLCB3ZSBjb25zaWRlciB0aGF0IG5vZGUgcmV0dXJuZWQgYW4gZXJyb3IgaW4gdGhlIG9sZCBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgdHlwZXNfMS5UeXBlZEVycm9yKHJlc3BvbnNlLmVycm9yLmRhdGEuZXJyb3JfbWVzc2FnZSwgcmVzcG9uc2UuZXJyb3IuZGF0YS5lcnJvcl90eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICgwLCB1dGlsc18xLnBhcnNlUnBjRXJyb3IpKHJlc3BvbnNlLmVycm9yLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYFske3Jlc3BvbnNlLmVycm9yLmNvZGV9XSAke3Jlc3BvbnNlLmVycm9yLm1lc3NhZ2V9OiAke3Jlc3BvbnNlLmVycm9yLmRhdGF9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IEFsbCB0aGlzIGhhY2tlcnkgaXMgaGFwcGVuaW5nIGJlY2F1c2Ugc3RydWN0dXJlZCBlcnJvcnMgbm90IGltcGxlbWVudGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBGaXggd2hlbiBodHRwczovL2dpdGh1Yi5jb20vbmVhcnByb3RvY29sL25lYXJjb3JlL2lzc3Vlcy8xODM5IGdldHMgcmVzb2x2ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvci5kYXRhID09PSAnVGltZW91dCcgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdUaW1lb3V0IGVycm9yJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ3F1ZXJ5IGhhcyB0aW1lZCBvdXQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyB0eXBlc18xLlR5cGVkRXJyb3IoZXJyb3JNZXNzYWdlLCAnVGltZW91dEVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvclR5cGUgPSAoMCwgdXRpbHNfMS5nZXRFcnJvclR5cGVGcm9tRXJyb3JNZXNzYWdlKShyZXNwb25zZS5lcnJvci5kYXRhLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IHR5cGVzXzEuVHlwZWRFcnJvcigoMCwgdXRpbHNfMS5mb3JtYXRFcnJvcikoZXJyb3JUeXBlLCBwYXJhbXMpLCBlcnJvclR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IHR5cGVzXzEuVHlwZWRFcnJvcihlcnJvck1lc3NhZ2UsIHJlc3BvbnNlLmVycm9yLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiByZXNwb25zZS5yZXN1bHQ/LmVycm9yID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvclR5cGUgPSAoMCwgdXRpbHNfMS5nZXRFcnJvclR5cGVGcm9tRXJyb3JNZXNzYWdlKShyZXNwb25zZS5yZXN1bHQuZXJyb3IsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IHV0aWxzXzEuU2VydmVyRXJyb3IoKDAsIHV0aWxzXzEuZm9ybWF0RXJyb3IpKGVycm9yVHlwZSwgcGFyYW1zKSwgZXJyb3JUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdWNjZXNzIHdoZW4gcmVzcG9uc2UuZXJyb3IgaXMgbm90IGV4aXN0XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnR5cGUgPT09ICdUaW1lb3V0RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWxzXzEuTG9nZ2VyLndhcm4oYFJldHJ5aW5nIHJlcXVlc3QgdG8gJHttZXRob2R9IGFzIGl0IGhhcyB0aW1lZCBvdXRgLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVzcG9uc2U7XG4gICAgICAgIC8vIEZyb20ganNvbnJwYyBzcGVjOlxuICAgICAgICAvLyByZXN1bHRcbiAgICAgICAgLy8gICBUaGlzIG1lbWJlciBpcyBSRVFVSVJFRCBvbiBzdWNjZXNzLlxuICAgICAgICAvLyAgIFRoaXMgbWVtYmVyIE1VU1QgTk9UIGV4aXN0IGlmIHRoZXJlIHdhcyBhbiBlcnJvciBpbnZva2luZyB0aGUgbWV0aG9kLlxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyB0eXBlc18xLlR5cGVkRXJyb3IoYEV4Y2VlZGVkICR7dGhpcy5vcHRpb25zLnJldHJpZXN9IGF0dGVtcHRzIGZvciByZXF1ZXN0IHRvICR7bWV0aG9kfS5gLCAnUmV0cmllc0V4Y2VlZGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5leHBvcnRzLkpzb25ScGNQcm92aWRlciA9IEpzb25ScGNQcm92aWRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/json-rpc-provider.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/provider.cjs":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/provider.cjs ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * NEAR RPC API request types and responses\n * @module\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Provider = void 0;\n/** @hidden */\nclass Provider {\n}\nexports.Provider = Provider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG5lYXItanMrcHJvdmlkZXJzQDEuMC4xL25vZGVfbW9kdWxlcy9AbmVhci1qcy9wcm92aWRlcnMvbGliL2NvbW1vbmpzL3Byb3ZpZGVyLmNqcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrYXRob24tbmVhci1yZWRhY3RlZC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbmVhci1qcytwcm92aWRlcnNAMS4wLjEvbm9kZV9tb2R1bGVzL0BuZWFyLWpzL3Byb3ZpZGVycy9saWIvY29tbW9uanMvcHJvdmlkZXIuY2pzPzQxM2EiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIE5FQVIgUlBDIEFQSSByZXF1ZXN0IHR5cGVzIGFuZCByZXNwb25zZXNcbiAqIEBtb2R1bGVcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qcm92aWRlciA9IHZvaWQgMDtcbi8qKiBAaGlkZGVuICovXG5jbGFzcyBQcm92aWRlciB7XG59XG5leHBvcnRzLlByb3ZpZGVyID0gUHJvdmlkZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@near-js+providers@1.0.1/node_modules/@near-js/providers/lib/commonjs/provider.cjs\n");

/***/ })

};
;